import{$ as Y,C as we,D as Ee,E as q,F as Me,G as gt,J as Oe,K as S,L as C,M as E,N as M,O as Mt,P,Q as ut,S as De,T as Ie,U as ze,V as ke,W as xt,X as Pe,Y as Re,Z as Ne,_ as K,a as pe,aa as J,b as me,c as Tt,d as fe,e as wt,f as j,g as ge,h as ue,i as ft,j as xe,k as b,l as ye,m as be,n as Ae,o as ve,p as Se,q as w,t as Et,u as X,v as Ce,w as _e,x as Te,y as G}from"./chunk-HED5TE3N.js";import{a as he,o as de}from"./chunk-U7NVLSV6.js";import{Na as ce,O as Wt,S as qt,Sa as _t,T as F,U as Jt,fa as ne,ha as se,sa as ae,ta as re,ua as le}from"./chunk-XSNTQQS2.js";import{B as Qt,D as te,H as ee,L as ie,Q as mt,S as St,W as oe,a as Yt,e as $t,h as y,ha as Ct,j as pt,k as Ht,r as Ut,w as Kt}from"./chunk-JTK26AH3.js";import{Bb as B,Bc as Xt,Ca as N,Cb as rt,Da as at,Db as L,F as Nt,Fb as lt,H as U,J as Vt,M as bt,Na as V,Nc as ct,Pd as dt,Qa as I,Rd as Gt,S as Bt,Ta as Ft,a as R,c as Pt,ca as At,g as Rt,ga as Lt,hd as Z,ld as ht,pa as st,pb as jt,q as ot,qb as W,ra as Zt,ta as T,u as nt,ub as z,vb as x,xb as vt}from"./chunk-OCTFRZCZ.js";import{a as zt,b as kt,g as yt}from"./chunk-LO4PBWZP.js";var Ve="mat-badge-content",He=(()=>{class l{static \u0275fac=function(e){return new(e||l)};static \u0275cmp=B({type:l,selectors:[["ng-component"]],decls:0,vars:0,template:function(e,i){},styles:[`.mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color, var(--mat-sys-error));color:var(--mat-badge-text-color, var(--mat-sys-on-error));font-family:var(--mat-badge-text-font, var(--mat-sys-label-small-font));font-weight:var(--mat-badge-text-weight, var(--mat-sys-label-small-weight));border-radius:var(--mat-badge-container-shape, var(--mat-sys-corner-full))}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}@media(forced-colors: active){.mat-badge-content{outline:solid 1px;border-radius:0}}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-error) 38%, transparent));color:var(--mat-badge-disabled-state-text-color, var(--mat-sys-on-error))}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size, unset);height:var(--mat-badge-legacy-small-size-container-size, unset);min-width:var(--mat-badge-small-size-container-size, 6px);min-height:var(--mat-badge-small-size-container-size, 6px);line-height:var(--mat-badge-small-size-line-height, 6px);padding:var(--mat-badge-small-size-container-padding, 0);font-size:var(--mat-badge-small-size-text-size, 0);margin:var(--mat-badge-small-size-container-offset, -6px 0)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset, -6px)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size, unset);height:var(--mat-badge-legacy-container-size, unset);min-width:var(--mat-badge-container-size, 16px);min-height:var(--mat-badge-container-size, 16px);line-height:var(--mat-badge-line-height, 16px);padding:var(--mat-badge-container-padding, 0 4px);font-size:var(--mat-badge-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-container-offset, -12px 0)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset, -12px)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size, unset);height:var(--mat-badge-legacy-large-size-container-size, unset);min-width:var(--mat-badge-large-size-container-size, 16px);min-height:var(--mat-badge-large-size-container-size, 16px);line-height:var(--mat-badge-large-size-line-height, 16px);padding:var(--mat-badge-large-size-container-padding, 0 4px);font-size:var(--mat-badge-large-size-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-large-size-container-offset, -12px 0)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset, -12px)}
`],encapsulation:2,changeDetection:0})}return l})(),mi=(()=>{class l{_ngZone=T(W);_elementRef=T(I);_ariaDescriber=T(mt);_renderer=T(z);_animationsDisabled=oe();_idGenerator=T(Kt);get color(){return this._color}set color(t){this._setColor(t),this._color=t}_color="primary";overlap=!0;disabled;position="above after";get content(){return this._content}set content(t){this._updateRenderedContent(t)}_content;get description(){return this._description}set description(t){this._updateDescription(t)}_description;size="medium";hidden;_badgeElement;_inlineBadgeDescription;_isInitialized=!1;_interactivityChecker=T(ee);_document=T(at);constructor(){let t=T($t);t.load(He),t.load(te)}isAbove(){return this.position.indexOf("below")===-1}isAfter(){return this.position.indexOf("before")===-1}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){let t=this._renderer.createElement("span"),e="mat-badge-active";return t.setAttribute("id",this._idGenerator.getId("mat-badge-content-")),t.setAttribute("aria-hidden","true"),t.classList.add(Ve),this._animationsDisabled&&t.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(t),typeof requestAnimationFrame=="function"&&!this._animationsDisabled?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{t.classList.add(e)})}):t.classList.add(e),t}_updateRenderedContent(t){let e=`${t??""}`.trim();this._isInitialized&&e&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=e),this._content=e}_updateDescription(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!t||this._isHostInteractive())&&this._removeInlineDescription(),this._description=t,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,t):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(t){let e=this._elementRef.nativeElement.classList;e.remove(`mat-badge-${this._color}`),t&&e.add(`mat-badge-${t}`)}_clearExistingBadges(){let t=this._elementRef.nativeElement.querySelectorAll(`:scope > .${Ve}`);for(let e of Array.from(t))e!==this._badgeElement&&e.remove()}static \u0275fac=function(e){return new(e||l)};static \u0275dir=L({type:l,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(e,i){e&2&&Xt("mat-badge-overlap",i.overlap)("mat-badge-above",i.isAbove())("mat-badge-below",!i.isAbove())("mat-badge-before",!i.isAfter())("mat-badge-after",i.isAfter())("mat-badge-small",i.size==="small")("mat-badge-medium",i.size==="medium")("mat-badge-large",i.size==="large")("mat-badge-hidden",i.hidden||!i.content)("mat-badge-disabled",i.disabled)},inputs:{color:[0,"matBadgeColor","color"],overlap:[2,"matBadgeOverlap","overlap",ht],disabled:[2,"matBadgeDisabled","disabled",ht],position:[0,"matBadgePosition","position"],content:[0,"matBadge","content"],description:[0,"matBadgeDescription","description"],size:[0,"matBadgeSize","size"],hidden:[2,"matBadgeHidden","hidden",ht]}})}return l})(),fi=(()=>{class l{static \u0275fac=function(e){return new(e||l)};static \u0275mod=rt({type:l});static \u0275inj=st({imports:[ie,Ct,Ct]})}return l})();var Be=["#a6aaad","#11a3dc","#5e92a8","#10536d","#012345"],Ue=Symbol(),$={"font-family":"Google Sans","font-size":14},v=new Zt("Default chart options"),Le={padding:{top:10,right:0,bottom:30,left:80},layout:"grouped",delay:20,maxBandWidth:100,valueFun:l=>l,colors:Be,palette:Ie(ze),xAxis:{type:"string",clipped:!0,font:$,minZoom:1,maxZoom:10,padding:10,position:"bottom"},yAxis:{clipped:!1,font:$,minZoom:1,maxZoom:1,padding:10,position:"left"}},We={gridSpacing:4,gridSize:32,padding:{top:40,right:0,bottom:0,left:50},valueFun:l=>l,disabled:{fillStyle:"#aaa"},palette:gt([],[]).interpolate(Te),minZoom:.5,maxZoom:4,tooltip:{disabled:!1},xAxis:{clipped:!0,font:$,padding:10,position:"top"},yAxis:{clipped:!1,font:$,padding:10,position:"left"}},qe={padding:{top:0,right:0,bottom:40,left:50},valueFun:l=>l,colors:Be,palette:q(),lineStyle:{"stroke-width":1},selectedLineStyle:{"stroke-width":2},pointStyle:{r:3,"fill-opacity":0},selectedPointStyle:{r:6,"fill-opacity":1},minZoom:!1,maxZoom:!1,tooltip:{disabled:!1},xAxis:{clipped:!0,font:$,padding:10,position:"bottom"},yAxis:{clipped:!1,font:$,padding:10,position:"left"}},Ze={padding:{top:10,right:10,bottom:10,left:10},delay:20,font:{"pointer-events":"none","text-anchor":"middle","font-size":10,"fill-opacity":.9},title:{font:{dy:"0.35em"}},palette:q([],[])};var It=yt(_t());var O=1e3,D=O*60,k=D*60,_=k*24,Ke=_*7,tt=_*30,Ot=_*365,et=[[S,1,O],[S,2,2*O],[S,3,3*O],[S,4,4*O],[S,5,5*O],[S,10,10*O],[S,15,15*O],[S,30,30*O],[C,1,D],[C,2,2*D],[C,3,3*D],[C,4,4*D],[C,5,5*D],[C,10,10*D],[C,15,15*D],[C,30,30*D],[E,1,k],[E,2,2*k],[E,3,3*k],[E,4,4*k],[E,6,6*k],[E,8,8*k],[E,12,12*k],[M,1,_],[M,2,2*_],[M,3,3*_],[M,4,4*_],[M,5,5*_],[M,6,6*_],[M,10,10*_],[Mt,1,Ke],[P,1,tt],[P,2,2*tt],[P,3,3*tt],[P,4,4*tt],[P,6,6*tt],[ut,1,Ot]],Fe=l=>{let h;switch(l){case"second":h=S;break;case"minute":h=C;break;case"hour":h=E;break;case"day":h=M;break;case"week":h=Mt;break;case"month":h=P;break;case"year":h=ut;break;default:h=Oe}return h},je=(l,h,t,e)=>{let i=Math.abs(h-l)/t,o=pe(([,,a])=>a).right(et,i);if(o===et.length)return ut.every(wt(l/Ot,h/Ot,t));if(o===0)return Fe(e).every(Math.max(wt(l,h,t),1));let[n,s]=et[i/et[o-1][2]<et[o][2]/i?o-1:o];return n.every(s)},Dt=(l,h,t)=>{let e=Fe(t);return Math.max(1,e.count(l,h))};var Je=0,it=(l,h,t)=>{let e=l.invertX(h[0][0])-t[0][0],i=l.invertX(h[1][0])-t[1][0],o=l.invertY(h[0][1])-t[0][1],n=l.invertY(h[1][1])-t[1][1];return l.translate(i>e?e:Math.min(0,e)||Math.max(0,i),n>o?o:Math.min(0,o)||Math.max(0,n))},H=(()=>{class l{renderer;changeDetectorRef;overlay;injector;data;selection;set options(t){this.chartOptions=(0,It.merge)({},this.injector.get(v),t)}get options(){return this.chartOptions}tooltip;set xTransform(t){let e=this.xZoom;t&&(t=new K(Math.min(e.scaleExtent()[1],Math.max(e.scaleExtent()[0],t.k)),t.x,t.y),t=it(t,e.extent()(),e.translateExtent())),this._xTransform=t}get xTransform(){return this._xTransform}set yTransform(t){let e=this.yZoom;t&&(t=new K(Math.min(e.scaleExtent()[1],Math.max(e.scaleExtent()[0],t.k)),t.x,t.y),t=it(t,e.extent()(),e.translateExtent())),this._yTransform=t}get yTransform(){return this._yTransform}chartOptions;dimension=new DOMRect(0,0,0,0);palette;xAxisScale;xAxis;yAxisScale;yAxis;content;zoom;xZoom;yZoom;resizeObservable;subscription=new R;tooltipPositionStrategy;_container;_isDev=!1;CONTENT_CLASS_NAME="drawing";X_AXIS_CLASS_NAME="x-axis";Y_AXIS_CLASS_NAME="y-axis";renderingObs;_xTransform;_yTransform;id_count;constructor(t,e,i,o,n){this.renderer=e,this.changeDetectorRef=i,this.overlay=o,this.injector=n;let s=this.createSVGElement("svg"),a=this.createSVGElement("g"),d=this.createSVGElement("g"),p=this.createSVGElement("g"),m=this.createSVGElement("rect");e.addClass(a,this.X_AXIS_CLASS_NAME),e.addClass(d,this.Y_AXIS_CLASS_NAME),e.addClass(p,this.CONTENT_CLASS_NAME),e.addClass(m,"canvas-area"),e.appendChild(s,this.createSVGElement("defs")),e.appendChild(p,m),e.appendChild(s,a),e.appendChild(s,d),e.appendChild(s,p),e.appendChild(t,s),this.id_count=++Je,this.chartOptions=(0,It.merge)({},n.get(v)),this._container=t,this.content=w(s),this.resizeObservable=new Pt(u=>{let f=new ResizeObserver(A=>{let c=A[0].contentRect;u.next(new DOMRect(Math.floor(c.left),Math.floor(c.top),Math.floor(c.width),Math.floor(c.height)))});return f.observe(t),function(){f.disconnect()}}),this.renderingObs=new Rt,this.zoom=J().constrain(it),this.xZoom=J().constrain(it),this.yZoom=J().constrain(it),this.tooltipPositionStrategy=this.overlay.position().flexibleConnectedTo(s).withPositions([this.createTooltipPosition(0,0)])}ngOnChanges(t){if(t.options){let e=t.options?.previousValue,i=t.options?.currentValue,o=this.options;this.zoom.scaleExtent([this.getScaleBoundary(o.minZoom),this.getScaleBoundary(o.maxZoom)]),this.xZoom.scaleExtent([this.getScaleBoundary(typeof o.xAxis?.minZoom<"u"?o.xAxis.minZoom:o.minZoom),this.getScaleBoundary(typeof o.xAxis?.maxZoom<"u"?o.xAxis.maxZoom:o.maxZoom)]),this.yZoom.scaleExtent([this.getScaleBoundary(typeof o.yAxis?.minZoom<"u"?o.yAxis.minZoom:o.minZoom),this.getScaleBoundary(typeof o.yAxis?.maxZoom<"u"?o.yAxis.maxZoom:o.maxZoom)]),i?.xAxis?.position!==e?.xAxis?.position||i?.xAxis?.type!==e?.xAxis?.type?this.createAxisScale("x",o.xAxis):typeof i?.xAxis?.format<"u"&&this.xAxis.tickFormat(i.xAxis.format),i?.yAxis?.position!==e?.yAxis?.position?this.createAxisScale("y",o.yAxis):typeof i?.yAxis?.format<"u"&&this.yAxis.tickFormat(i.yAxis.format),this.tooltip.disabled=St(o.tooltip?.disabled)}(t.data||t.options)&&this.tooltip?.hide()}ngOnInit(){this.subscription.add(this.resizeObservable.pipe(U(t=>{let e=this.dimension;return t.width!==e.width||t.height!==e.height}),nt(t=>(this.dimension=t,t)),bt(100)).subscribe(()=>{this.resize(),this.identifyZoom(),this.prepareToRender()})),this.renderingObs.pipe(bt(5)).subscribe(()=>{this.render()}),this.content.on("contextmenu",t=>{t.preventDefault()})}ngAfterViewInit(){}ngOnDestroy(){this.renderingObs.complete(),this.subscription.unsubscribe(),this.tooltip?.hide()}zoomIn(){this.content.call(this.zoom.scaleBy,2)}zoomOut(){this.content.call(this.zoom.scaleBy,.5)}getValue(...t){let e=this.invertViewData.call(this,...t);return this.options.valueFun(e,...t)}getXValue(t){let e=this.options.xAxis?.valueFun;return y(typeof e=="function"?e(t):t)}getYValue(t){let e=this.options.yAxis?.valueFun;return y(typeof e=="function"?e(t):t)}getPalette(){return this.palette}getCanvasArea(){let t=this.dimension,e=this.options.padding;return kt(zt({},e),{width:Math.max(0,t.width-e.left-e.right),height:Math.max(0,t.height-e.top-e.bottom)})}getContainer(){return this._container}resize(){let t=this.dimension,e=t.width,i=t.height;this.content.attr("viewBox",[0,0,e,i]).attr("width",e).attr("height",i),this.setViewportExtent()}setPalette(){let t=this.options,e=this.injector.get(v),i=t.palette;if(i&&i.unknown(e.palette.unknown()),i=this.palette=i||e.palette.copy(),t.domain!=="static"||!t.palette){let n=(this.data||[]).length,s=t.colors;(!s||!s.length)&&(s=G(xt,n+2),s.shift(),s.pop()),i.domain(ft(0,n+1)).range(s)}}setViewportExtent(){let t=this.options,e=this.getCanvasArea(),i=this.content,o=[{className:this.X_AXIS_CLASS_NAME,viewBox:this.getAxisViewBox(t.xAxis,e)},{className:this.Y_AXIS_CLASS_NAME,viewBox:this.getAxisViewBox(t.yAxis,e)},{className:this.CONTENT_CLASS_NAME,viewBox:[e.left,e.top,e.width,e.height]}];[{axis:this.xAxis,scale:this.xAxisScale,zoom:this.xZoom,options:t.xAxis},{axis:this.yAxis,scale:this.yAxisScale,zoom:this.yZoom,options:t.yAxis}].forEach(n=>{let{axis:s,scale:a,zoom:d,options:p}=n;if(typeof p?.minZoom=="string"||typeof p?.maxZoom=="string"){let m=d.scaleExtent(),u=this.calcAppropriateNumberOfTicks(s,a,p,e);if(typeof p?.minZoom=="string"){let f=Dt(a.domain()[0],a.domain().slice(-1)[0],p.minZoom);m[0]=f/u}if(typeof p?.maxZoom=="string"){let f=Dt(a.domain()[0],a.domain().slice(-1)[0],p.maxZoom);m[1]=f/u}d.scaleExtent(m)}}),i.selectAll("defs").data([null]).join(n=>n.append(()=>this.createSVGElement("defs"))).selectAll("clipPath").data(o).join(n=>n.append(()=>this.createSVGElement("clipPath"))).attr("clipPathUnits","userSpaceOnUse").attr("id",(n,s,a)=>{let d=w(a[s]),p;switch(n.className){case this.X_AXIS_CLASS_NAME:p=this.xZoom.translateExtent([[n.viewBox[0],n.viewBox[1]],[n.viewBox[0]+n.viewBox[2],n.viewBox[1]]]);break;case this.Y_AXIS_CLASS_NAME:p=this.yZoom.translateExtent([[n.viewBox[0],n.viewBox[1]],[n.viewBox[0],n.viewBox[1]+n.viewBox[3]]]);break;default:p=this.zoom.translateExtent([[n.viewBox[0],n.viewBox[1]],[n.viewBox[0]+n.viewBox[2],n.viewBox[1]+n.viewBox[3]]])}return p.extent([[n.viewBox[0],n.viewBox[1]],[n.viewBox[0]+n.viewBox[2],n.viewBox[1]+n.viewBox[3]]]),d.selectAll("rect").data([null]).join(m=>m.append(()=>this.createSVGElement("rect"))).attr("x",n.viewBox[0]).attr("y",n.viewBox[1]).attr("width",n.viewBox[2]).attr("height",n.viewBox[3]),this.getClipID(n.className)}),i.select(`.${this.CONTENT_CLASS_NAME}`).attr("clip-path",`url(#${this.getClipID(this.CONTENT_CLASS_NAME)})`).select("rect.canvas-area").attr("fill","transparent").attr("x",e.left).attr("y",e.top).attr("width",e.width).attr("height",e.height)}prepareToRender(){this.renderingObs.next()}createAxisScale(t,e){let i,o;switch(e?.type){case"date":i=De();break;case"string":i=Me();break;default:i=gt()}switch(e?.position){case"top":if(t==="y")throw new Error("yAxis cannot be placed on horizontal.");o=be(i);break;case"left":if(t==="x")throw new Error("xAxis cannot be placed on vertical.");o=Se(i);break;case"right":if(t==="x")throw new Error("xAxis cannot be placed on vertical.");o=Ae(i);break;default:if(t==="y")throw new Error("yAxis cannot be placed on horizontal.");o=ve(i)}return o.tickSize(5).tickPadding(10),typeof e?.format<"u"&&o.tickFormat(e.format),t==="x"?(this.xAxisScale=i,this.xAxis=o):(this.yAxisScale=i,this.yAxis=o),i}createAxis(t,e,i,o){let n=t.scale(),s=this.getCanvasArea(),a=this.getAxisViewBox(e,s),d=this.content,p=this.calcAppropriateNumberOfTicks(t,n,e,s),m;if(typeof n.invert=="function")e.type==="date"?t.ticks(je(n.invert(0).valueOf(),n.invert(s.width).valueOf(),p-2,typeof e.minZoom=="string"?e.minZoom:void 0)):t.ticks(p);else{let f=Math.max(1,y(this.data?.length));t.tickValues(xe(n.domain(),(A,c)=>c%Math.max(1,Math.floor(f/p/y(o.k)))===0))}switch(e?.position){case"left":m=[s.left,0];break;case"right":m=[s.left+s.width,0];break;case"top":m=[0,s.top];break;default:m=[0,s.top+s.height]}let u=d.select(`.${i}`).attr("clip-path",St(e?.clipped)?`url(#${this.getClipID(i)})`:"").on("wheel",f=>{f.preventDefault()});u.selectAll("rect").data(f=>[f]).join(f=>f.append(()=>this.createSVGElement("rect"))).attr("x",a[0]).attr("y",a[1]).attr("width",a[2]).attr("height",a[3]).attr("fill","transparent"),u.selectAll("g").data(f=>[f]).join(f=>f.append(()=>this.createSVGElement("g"))).attr("transform",`translate(${m})`).style("user-select","none").call(t).call(f=>{this.setStyle(f,e.font),this.setStyle(f.selectAll(".domain"),e.baseline?.style),this.setStyle(f.selectAll(".tick line"),e.ticks?.style)})}getAxisViewBox(t,e){let i;switch(t?.position){case"top":i=[e.left,0,e.width,e.top];break;case"left":i=[0,e.top,e.left,e.height];break;case"right":i=[e.left+e.width,e.top,e.right,e.height];break;default:i=[e.left,e.top+e.height,e.width,e.bottom]}return i}calcAppropriateNumberOfTicks(t,e,i,o){let n=y(i?.font["font-size"])||14,s=y(i?.padding),a=t.tickFormat(),d,p,m,u;switch(a=a===null?e.tickFormat?e.tickFormat.apply(e,t.tickArguments()):f=>f:a,i?.position){case"left":case"right":d=o.top+o.height,p=o.height,m=n;break;default:let A=this.renderer.createElement("canvas").getContext("2d"),c=r=>typeof r?.toString=="function"?A.measureText(r.toString()).width:0;A.font=`${n}px "${i.font["font-family"]}"`,d=o.left,p=o.width,m=j((e.invert?b(fe(d,d+p,p),r=>c(a(e.invert(r),-1))):b(e.domain(),r=>c(a(r,-1)))).concat([s]))}return m=Math.ceil(m)+s,u=Math.max(1,Math.floor(p/m)),u}getTransformXAxisScale(){let t=this.xAxisScale,e=this.xTransform;try{return e.rescaleX(t)}catch{return(typeof t.rangeRound=="function"?t.copy().rangeRound:t.copy().range)(t.range().map(o=>e.applyX(o)))}}getTransformYAxisScale(){let t=this.yAxisScale,e=this.yTransform;try{return e.rescaleY(t)}catch{return(typeof t.rangeRound=="function"?t.copy().rangeRound:t.copy().range)(t.range().map(o=>e.applyY(o)))}}getScaleBoundary(t,e){let i;switch(typeof t){case"boolean":i=t?1/0:1;break;case"number":i=t;break;default:i=1}return i}createSVGElement(t){return this.renderer.createElement(t,"svg")}setStyle(t,e){let i=typeof e=="function"?e(t.data()):e||{};for(let o in i)t.attr(o,i[o])}createTooltip(){let t=this.injector,e=new le(this.overlay,new I(this.getContainer()),t.get(Ut),t.get(vt),t.get(W),t.get(Yt),t.get(mt),t.get(Qt),t.get(ae),t.get(Ht),t.get(re),t.get(at)),i=this.options?.tooltip?.component;return i&&(e._portal=new Wt(i,t.get(vt))),e.message="_",e.show(),e.hide(),e._overlayRef.updatePositionStrategy(this.tooltipPositionStrategy),e}updateTooltip(t,e){let i=this.tooltip,o=this.injector.get(W),n=t.offsetX,s=t.offsetY;o.run(()=>{this.tooltipPositionStrategy.withPositions([this.createTooltipPosition(n,s)]),i.message=`${e}`,i.show()})}enableMultipleSelection(t){return navigator.platform?.toLowerCase().indexOf("mac")>-1?t.metaKey:t.ctrlKey}getClipID(t){return`boundsClip-${this.injector.get(Ft)}-${this.id_count}-${t}`}createTooltipPosition(t,e){return{offsetX:t,offsetY:e-15,originX:"start",originY:"top",overlayX:"center",overlayY:"bottom"}}static \u0275fac=function(e){return new(e||l)(x(HTMLElement),x(z),x(Z),x(F),x(N))};static \u0275dir=L({type:l,inputs:{data:"data",selection:"selection",options:"options"},features:[V]})}return l})();var qi=(()=>{class l extends H{renderer;changeDetectorRef;overlay;injector;data;constructor(t,e,i,o,n){super(pt(t),e,i,o,n),this.renderer=e,this.changeDetectorRef=i,this.overlay=o,this.injector=n,this.createAxisScale("x",this.options.xAxis),this.createAxisScale("y",this.options.yAxis),this.tooltip=this.createTooltip()}ngOnChanges(t){if(super.ngOnChanges(t),["data","options"].some(i=>t[i]&&(t[i].firstChange||t[i].currentValue!==t[i].previousValue))){let i=this.options,o=i.layout==="stacked",n=this.data||[];[{scale:this.xAxisScale,options:i.xAxis,domain:b(n,a=>a[0])},{scale:this.yAxisScale,options:i.yAxis,domain:ue(b(n,a=>o?b(a.slice(1),(d,p)=>Tt(a.slice(1,p+2))):b(a.slice(1),d=>Math.abs(y(d))))).concat([0])}].forEach(a=>{if(a.options.type==="string")a.scale.domain(a.domain);else{let d=typeof a.options?.min<"u",p=typeof a.options?.max<"u",m=me(a.domain);d&&(m[0]=ge([m[0],a.options.min])),p&&(m[1]=j([m[1],a.options.max])),a.scale.domain(m),typeof a.scale.nice=="function"&&a.scale.nice()}}),this.setPalette()}this.xTransform&&this.yTransform&&this.prepareToRender()}ngOnInit(){super.ngOnInit(),this.xZoom.on("zoom",t=>{let e=this.xTransform;this.xTransform=t.transform,(e.k!==t.transform.k||e.x!==t.transform.x)&&this.prepareToRender()}),this.yZoom.on("zoom",t=>{let e=this.yTransform;this.yTransform=t.transform,(e.k!==t.transform.k||e.y!==t.transform.y)&&this.prepareToRender()})}render(){this.renderAxes(),this.renderContent()}renderContent(){let t=this.data||[],e=this.getNumOfSeries(t),i=this.options,o=i.layout==="stacked",n=i.delay,s=this.getPalette(),a=this.getTransformXAxisScale(),d=this.getTransformYAxisScale(),p=this.content.select(`.${this.CONTENT_CLASS_NAME}`),m=30;typeof a.clamp=="function"&&a.clamp(!1),typeof d.clamp=="function"&&d.clamp(!1),typeof a.bandwidth=="function"?m=a.bandwidth():m=Math.abs(Math.floor(a(t[0][0])-a(t[1][0]))),p.selectAll("g.bars").data([null]).join(c=>c.append(()=>this.createSVGElement("g"))).attr("class","bars").selectAll("g.bar").data(t).join(c=>c.append(()=>this.createSVGElement("g"))).attr("class","bar").call(c=>{c.selectAll("rect").data(r=>b(r.slice(1),()=>r)).join(r=>r.append(()=>this.createSVGElement("rect"))).attr("fill",(r,g)=>s(g)).attr("x",(r,g)=>a(r[0])+(o?0:m/e*g)).attr("width",o?m:m/e).attr("y",(r,g)=>d(o?g<1?r[g+1]:r[g]:Math.abs(r[g+1]))).attr("height",(r,g)=>d(0)-d(Math.abs(r[g+1])))}).on("mousemove",c=>{this.tooltip&&this.showTooltip(c)}).on("mouseenter",c=>{this.tooltip&&this.showTooltip(c),c.stopPropagation()}).on("mouseleave",c=>{this.tooltip&&this.tooltip.hide(),c.stopPropagation()});let u=new Array(Math.min(1,e)),f=G(xt,e+2);f.unshift(),f.pop();let A=q(ft(0,e,1),f);u.length&&(u[0]=e-1),p.selectAll("g.lines").data(u).join(c=>c.append(()=>this.createSVGElement("g"))).attr("class","lines").call(c=>{c.selectAll("path").data(r=>[b(t,g=>[g[0],o?Tt(g.slice(1)):g[r]])]).join(r=>r.append(()=>this.createSVGElement("path"))).attr("fill","none").attr("stroke",(r,g)=>A(g)).attr("stroke-width",1).attr("stroke-linecap","round").attr("stroke-linejoin","round").attr("d",Re().curve(Ne).x(r=>a(r[0])+m/2).y(r=>d(r[1]))).call(r=>{this.setStyle(r,i.lineStyle)})})}renderAxes(){let t=this.options,e=this.content,i=this.X_AXIS_CLASS_NAME,o=this.Y_AXIS_CLASS_NAME,n=this.getCanvasArea(),s=this.xAxisScale;if(typeof s.bandwidth=="function"){let a=s.domain().length,d=y(t.maxBandWidth),p=this.xTransform;s.paddingOuter(Math.max(.01,1-a/(n.width/d))),s.paddingInner(Math.max(.38,s.paddingOuter())),this.xZoom.scaleExtent([1,Math.max(1,d/s.step())]),this.xTransform=new K(p.k,p.x,p.y)}this.createAxis(this.xAxis.scale(this.getTransformXAxisScale()),t.xAxis,i,this.xTransform),this.createAxis(this.yAxis.scale(this.getTransformYAxisScale()),t.yAxis,o,this.yTransform),e.select(`.${i}`).call(this.xZoom).call(this.xZoom.transform,this.xTransform),e.select(`.${o}`).call(a=>{a.selectAll(".tick line").clone().attr("x2",n.width).attr("stroke","#000000").style("stroke-dasharray",d=>d===0?null:"3 3").attr("stroke-opacity",d=>d===0?.5:.2)}).call(this.yZoom)}viewData(t){return this.getTransformXAxisScale()(this.getXValue(t))}invertViewData(t,e=this.data){return e[t]}setViewportExtent(){super.setViewportExtent();let t=this.options,e=this.getCanvasArea(),i=[{scale:this.xAxisScale,options:t.xAxis},{scale:this.yAxisScale,options:t.yAxis}].forEach(o=>{switch(o.options?.position){case"left":case"right":(typeof o.scale.rangeRound=="function"?o.scale.rangeRound:o.scale.range)([e.top+e.height,e.top]);break;default:(typeof o.scale.rangeRound=="function"?o.scale.rangeRound:o.scale.range)([e.left,e.left+e.width])}})}identifyZoom(){this.xTransform=this.yTransform=Y}showTooltip(t){let e=w(t.target),i=e.size()?e.data()[0]:null,o=this.options.tooltip?.content,n=i?typeof o=="function"?o(i):ye(i,(s,a)=>s+`${a} 
`,""):"";this.updateTooltip(t,n)}getNumOfSeries(t){return t&&t[0]?t[0].length-1:0}static \u0275fac=function(e){return new(e||l)(x(I),x(z),x(Z),x(F),x(N))};static \u0275cmp=B({type:l,selectors:[["app-bar-chart"]],hostAttrs:[1,"d-block","chart","chart-bar"],inputs:{data:"data"},standalone:!1,features:[ct([{provide:v,useValue:Le}]),lt,V],decls:0,vars:0,template:function(e,i){},styles:["[_nghost-%COMP%]{display:block;overflow:hidden}","svg[_ngcontent-%COMP%]{display:block}"]})}return l})();var io=(()=>{class l extends H{renderer;changeDetectorRef;overlay;injector;percentPipe;root;arc;totalDepth;constructor(t,e,i,o,n,s){super(pt(t),e,i,o,n),this.renderer=e,this.changeDetectorRef=i,this.overlay=o,this.injector=n,this.percentPipe=s,this.arc=Pe().startAngle(a=>a.x0).endAngle(a=>a.x1).padAngle(a=>Math.min((a.x1-a.x0)/2,.005)).innerRadius(a=>a.y0).outerRadius(a=>a.y1-1),this.totalDepth=0,this.tooltip=this.createTooltip()}ngOnChanges(t){super.ngOnChanges(t),["data","options"].some(i=>t[i]&&(t[i].firstChange||t[i].currentValue!==t[i].previousValue))&&this.setPalette(),this.prepareToRender()}ngOnInit(){super.ngOnInit()}render(){this.renderContent()}renderContent(){let t=(this.data?this.data[0]:null)||{id:"",name:"",children:[]},e=this.options,i=y(e?.font["font-size"])||14,o=e.delay,n=this.getPalette(),s=this.getCanvasArea(),a=Math.min(s.width,s.height)/2,d=this.content.select(`.${this.CONTENT_CLASS_NAME}`),p=this.arc.padRadius(a/2),m=this.root=Ee().size([2*Math.PI,a])(we(t).sum(c=>c.children&&c.children.length?0:c.value).sort((c,r)=>r.value-c.value)),u=this.totalDepth=j(m.descendants(),c=>c.depth),f=1/this.totalDepth,A=Ce(Math.min(Math.max(f,.4),.9),Math.max(Math.min(1-f,.9),.9));n.domain(b(t.children,c=>c.id)),d.selectAll("text.main").data([t]).join(c=>c.append(()=>this.createSVGElement("text"))).attr("class","main").attr("transform",`translate(${[s.left+s.width/2,s.top+s.height/2]})`).attr("text-anchor","middle").call(c=>{this.setTitle(c,c.data()[0]),this.setStyle(c,e.title?.font)}),d.selectAll("g.part").data(m.descendants().filter(c=>c.depth&&c.x1-c.x0>.001)).join(c=>c.append(()=>this.createSVGElement("g"))).attr("class","part").attr("transform",`translate(${[s.left+s.width/2,s.top+s.height/2]})`).call(c=>{c.selectAll("path").data(r=>r).join(r=>r.append(()=>this.createSVGElement("path"))).attr("fill",(r,g)=>this.getColorByData(r,g).toString()).attr("fill-opacity",r=>A((r.depth+1)/u)).attr("d",p),c.selectAll("text").data(r=>r).join(r=>r.append(()=>this.createSVGElement("text"))).attr("transform",r=>{let g=(r.x0+r.x1)/2*180/Math.PI,$e=(r.y0+r.y1)/2;return`rotate(${g-90}) translate(${$e}, 0) rotate(${g<180?0:180})`}).text(r=>r.depth&&(r.y0+r.y1)/2*(r.x1-r.x0)>i?r.data.name:"").call(r=>{r.attr("dy","0.35em"),this.setStyle(r,e.font)})}).on("mousemove",c=>{this.tooltip&&this.showTooltip(c)}).on("mouseenter",c=>{let r=w(c.target),g=r.data()[0];r.select("path").attr("fill-opacity",1),this.setTitle(d.select("text.main"),g.data),this.tooltip&&this.showTooltip(c),c.stopPropagation()}).on("mouseleave",c=>{let r=w(c.target),g=r.data()[0];r.select("path").attr("fill-opacity",A((g.depth+1)/u)),this.setTitle(d.select("text.main"),this.data?this.data[0]:null),this.tooltip&&this.tooltip.hide(),c.stopPropagation()})}renderAxes(){throw new Error("Method not implemented.")}viewData(t){throw new Error("Method not implemented.")}invertViewData(t){return t}setPalette(){let t=this.options,e=this.injector.get(v),o=((this.data?this.data[0]:null)||{id:"",name:"",children:[]}).children.length,n=t.palette,s=t.colors;n&&n.unknown(e.palette.unknown()),n=this.palette=n||e.palette.copy(),(!s||!s.length)&&(s=G(ke,o+1).reverse(),s.pop()),n.range(s)}identifyZoom(){this.xTransform=this.yTransform=Y}showTooltip(t){let e=this.options.tooltip?.content,i=w(t.target),o=i.size()?i.data()[0]:null,n=o?typeof e=="function"?e(o.data):`${o.ancestors().map(s=>s.data.name).reverse().join("/")}
${this.percentPipe.transform(o.value/this.root.value,"0.0-2")}`:"";this.updateTooltip(t,n)}setTitle(t,e){let i="",o=0;e&&(e.name?i=e.name:e.data&&(i=e.data.name),typeof e.value=="number"&&(o=e.value)),t.selectAll(".percentage").data([i,this.getValue(o).toString()]).join(n=>n.append(()=>this.createSVGElement("tspan"))).attr("class","percentage").attr("x",0).attr("y",0).attr("dy",(n,s)=>`${-.1+s*1.2}em`).text(n=>n)}getColorByData(t,e){let i=t.depth,o=1,n=e%o;for(t.parent&&(o=t.parent.data.children.length,n=e%o,t.parent.data.children.some((m,u)=>t.data.name===m.name?(n=u,!0):!1));t.depth>1;)t=t.parent;let s=X(this.getPalette()(t.data.id)),a=X(s).h,d=1/this.totalDepth,p=s;if(i>1){let m=X(a,Math.max(1-d,.3),Math.max(1-d,.8)),u=X(a,1,Math.min(d,.2));p=X(_e(m,u)(n/o))}return p}static \u0275fac=function(e){return new(e||l)(x(I),x(z),x(Z),x(F),x(N),x(dt))};static \u0275cmp=B({type:l,selectors:[["app-sunburst-chart"]],hostAttrs:[1,"d-block","chart","chart-sunburst"],standalone:!1,features:[ct([{provide:v,useValue:Ze}]),lt,V],decls:0,vars:0,template:function(e,i){},styles:["[_nghost-%COMP%]{display:block;overflow:hidden}","svg[_ngcontent-%COMP%]{display:block}"]})}return l})();var Ge=yt(_t());var ho=Et("#009CA6"),po=Et(26,115,232);var ti=yt(_t());var zo=(()=>{class l{static \u0275fac=function(e){return new(e||l)};static \u0275mod=rt({type:l});static \u0275inj=st({providers:[dt],imports:[Gt,ne,se,ce,Jt,qt]})}return l})();function Ro(l){return class extends l{subscription=new R;constructor(...h){super(...h)}ngOnDestroy(){this.subscription.unsubscribe()}}}var Lo=(()=>{class l{dataSource;displayedHeaderColumns;displayedColumns;selectedRow;requestSubs;subscription=new R;ngOnInit(){this.displayedColumns=this.displayedHeaderColumns.map(t=>t.key)}ngOnDestroy(){this.subscription.unsubscribe()}setSelectedRow(t){this.selectedRow&&(this.selectedRow.selected=!1),t.selected=!0,this.selectedRow=t}static \u0275fac=function(e){return new(e||l)};static \u0275dir=L({type:l})}return l})();var Ye=class extends de{remoteSourceFn;dataConverter;remotePagetion;readied;loading=!1;pageSizeOptions=[20,50,100];x;responseError=new jt;pageSize;countId=0;dataSubscription;pageTokenMap=new Map;constructor(h,t,e=!0,i=!0){super(),this.remoteSourceFn=h,this.dataConverter=t,this.remotePagetion=e,this.readied=i}reset(){let h=this.paginator;this.pageTokenMap.clear(),h&&(h.pageIndex=0),this.reload()}reload(){this.load().subscribe()}_updateChangeSubscription(){super._updateChangeSubscription();let h=this.paginator,t;h&&(h.pageSizeOptions=this.pageSizeOptions,this.pageSize=h.pageSize),this.remotePagetion&&h?t=Nt(h.page.pipe(U(i=>this.pageSize!==i.pageSize?(this.pageSize=i.pageSize,this.reset(),!1):!0)),h.initialized):t=ot(null);let e=t.pipe(U(()=>this.readied&&!!this.pageTokenMap),At(()=>this.load()));this.dataSubscription?.unsubscribe(),this.dataSubscription=e.subscribe()}_pageData(h){return this.remotePagetion?h:super._pageData(h)}_updatePaginator(h){!this.remotePagetion&&super._updatePaginator(h)}load(){let h=this.paginator,t=ot(null);return h?t.pipe(Lt(()=>{this.loading=!0,this.countId++,h.disabled=!0}),At(()=>{let e=this.countId,i=new he;return i.pageSize=h.pageSize,i.pageIndex=h.pageIndex,this.remoteSourceFn(i,this.pageTokenMap.get(h.pageIndex)||"").pipe(Vt(o=>(this.responseError.emit(o),ot({}))),Bt(()=>{this.loading=e===this.countId?!1:this.loading}))}),nt(e=>{let i=this.dataConverter(e);return this.data=i,h.disabled=!1,i})):t}};export{mi as a,fi as b,qi as c,io as d,zo as e,Ro as f,Lo as g,Ye as h};
/**i18n:4e954d11e025817f1aceae10dbbd8d111274144b3c3dbbdb81deac1f9b9c7958*/
