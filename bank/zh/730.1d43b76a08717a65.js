"use strict";(self.webpackChunkbank=self.webpackChunkbank||[]).push([[730],{4730:(qi,Ct,l)=>{l.r(Ct),l.d(Ct,{HospitalModule:()=>Ui});var r=l(1180),u=l(6814),Ft=l(9862),bt=l(9014),v=l(2495),t=l(5879),g=l(3680),j=l(4191),H=l(8645),$=l(3019),F=l(8180),E=l(9773),U=l(7921),k=l(4664),C=l(6028),yt=l(9388),d=l(6223),T=l(4170);function Ut(n,o){1&n&&(t.TgZ(0,"span",8),t.Hsn(1,1),t.qZA())}function qt(n,o){1&n&&(t.TgZ(0,"span",9),t.Hsn(1,2),t.qZA())}const St=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],Et=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function Qt(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"span",8)(2,"span",9),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e._isRippleCentered)("matRippleTrigger",e._elementRef.nativeElement)}}function zt(n,o){1&n&&(t.TgZ(0,"span",10),t.Hsn(1),t.qZA())}function Bt(n,o){1&n&&(t.ynx(0),t.Hsn(1,1),t.BQk())}function Jt(n,o){1&n&&t.Hsn(0,2,["*ngIf","contentEditInput; else defaultMatChipEditInput"])}function Vt(n,o){1&n&&t._UZ(0,"span",13)}function Xt(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Jt,1,0,"ng-content",11),t.YNc(2,Vt,1,0,"ng-template",null,12,t.W1O),t.BQk()),2&n){const e=t.MAs(3),i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.contentEditInput)("ngIfElse",e)}}function Kt(n,o){1&n&&(t.TgZ(0,"span",14),t.Hsn(1,3),t.qZA())}const jt=[[["mat-chip-avatar"],["","matChipAvatar",""]],"*",[["","matChipEditInput",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],Wt=["mat-chip-avatar, [matChipAvatar]","*","[matChipEditInput]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"],W=["*"],q=new t.OlP("mat-chips-default-options"),tt=new t.OlP("MatChipAvatar"),et=new t.OlP("MatChipTrailingIcon"),it=new t.OlP("MatChipRemove"),Y=new t.OlP("MatChip");class te{}const ee=(0,g.sb)(te,-1);let w=(()=>{class n extends ee{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(e){this._disabled=(0,v.Ig)(e)}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(e,i){super(),this._elementRef=e,this._parentChip=i,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this._allowFocusWhenDisabled=!1,"BUTTON"===e.nativeElement.nodeName&&e.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(e){!this.disabled&&this.isInteractive&&this._isPrimary&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(e){(e.keyCode===C.K5||e.keyCode===C.L_)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(Y))},n.\u0275dir=t.lG2({type:n,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(e,i){1&e&&t.NdJ("click",function(c){return i._handleClick(c)})("keydown",function(c){return i._handleKeydown(c)}),2&e&&(t.uIk("tabindex",i._getTabindex())("disabled",i._getDisabledAttribute())("aria-disabled",i.disabled),t.ekj("mdc-evolution-chip__action--primary",i._isPrimary)("mdc-evolution-chip__action--presentational",!i.isInteractive)("mdc-evolution-chip__action--trailing",!i._isPrimary))},inputs:{disabled:"disabled",tabIndex:"tabIndex",isInteractive:"isInteractive",_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},features:[t.qOj]}),n})(),At=(()=>{class n extends w{constructor(){super(...arguments),this._isPrimary=!1}_handleClick(e){this.disabled||(e.stopPropagation(),e.preventDefault(),this._parentChip.remove())}_handleKeydown(e){(e.keyCode===C.K5||e.keyCode===C.L_)&&!this.disabled&&(e.stopPropagation(),e.preventDefault(),this._parentChip.remove())}}return n.\u0275fac=function(){let o;return function(i){return(o||(o=t.n5z(n)))(i||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["","matChipRemove",""]],hostAttrs:["role","button",1,"mat-mdc-chip-remove","mat-mdc-chip-trailing-icon","mat-mdc-focus-indicator","mdc-evolution-chip__icon","mdc-evolution-chip__icon--trailing"],hostVars:1,hostBindings:function(e,i){2&e&&t.uIk("aria-hidden",null)},features:[t._Bn([{provide:it,useExisting:n}]),t.qOj]}),n})(),ae=0;const oe=(0,g.sb)((0,g.pj)((0,g.Kr)((0,g.Id)(class{constructor(n){this._elementRef=n}})),"primary"),-1);let R=(()=>{class n extends oe{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(e){this._value=e}get removable(){return this._removable}set removable(e){this._removable=(0,v.Ig)(e)}get highlighted(){return this._highlighted}set highlighted(e){this._highlighted=(0,v.Ig)(e)}constructor(e,i,a,c,s,p,h,m){super(i),this._changeDetectorRef=e,this._ngZone=a,this._focusMonitor=c,this._globalRippleOptions=h,this._isRippleCentered=!1,this._onFocus=new H.x,this._onBlur=new H.x,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+ae++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this._removable=!0,this._highlighted=!1,this.removed=new t.vpe,this.destroyed=new t.vpe,this.basicChipAttrName="mat-basic-chip",this._document=s,this._animationsDisabled="NoopAnimations"===p,null!=m&&(this.tabIndex=parseInt(m)??this.defaultTabIndex),this._monitorFocus()}ngOnInit(){const e=this._elementRef.nativeElement;this._isBasicChip=e.hasAttribute(this.basicChipAttrName)||e.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=(0,$.T)(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(e){(e.keyCode===C.ZH||e.keyCode===C.yY)&&(e.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(e){return this._getActions().find(i=>{const a=i._elementRef.nativeElement;return a===e||a.contains(e)})}_getActions(){const e=[];return this.primaryAction&&e.push(this.primaryAction),this.removeIcon&&e.push(this.removeIcon),this.trailingIcon&&e.push(this.trailingIcon),e}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const i=null!==e;i!==this._hasFocusInternal&&(this._hasFocusInternal=i,i?this._onFocus.next({chip:this}):this._ngZone.onStable.pipe((0,F.q)(1)).subscribe(()=>this._ngZone.run(()=>this._onBlur.next({chip:this}))))})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(j.tE),t.Y36(u.K0),t.Y36(t.QbO,8),t.Y36(g.Y2,8),t.$8M("tabindex"))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(e,i,a){if(1&e&&(t.Suo(a,tt,5),t.Suo(a,et,5),t.Suo(a,it,5),t.Suo(a,tt,5),t.Suo(a,et,5),t.Suo(a,it,5)),2&e){let c;t.iGM(c=t.CRH())&&(i.leadingIcon=c.first),t.iGM(c=t.CRH())&&(i.trailingIcon=c.first),t.iGM(c=t.CRH())&&(i.removeIcon=c.first),t.iGM(c=t.CRH())&&(i._allLeadingIcons=c),t.iGM(c=t.CRH())&&(i._allTrailingIcons=c),t.iGM(c=t.CRH())&&(i._allRemoveIcons=c)}},viewQuery:function(e,i){if(1&e&&(t.Gf(g.wG,5),t.Gf(w,5)),2&e){let a;t.iGM(a=t.CRH())&&(i.ripple=a.first),t.iGM(a=t.CRH())&&(i.primaryAction=a.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:30,hostBindings:function(e,i){1&e&&t.NdJ("keydown",function(c){return i._handleKeydown(c)}),2&e&&(t.Ikx("id",i.id),t.uIk("role",i.role)("tabindex",i.role?i.tabIndex:null)("aria-label",i.ariaLabel),t.ekj("mdc-evolution-chip",!i._isBasicChip)("mdc-evolution-chip--disabled",i.disabled)("mdc-evolution-chip--with-trailing-action",i._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",i.leadingIcon)("mdc-evolution-chip--with-primary-icon",i.leadingIcon)("mdc-evolution-chip--with-avatar",i.leadingIcon)("mat-mdc-chip-with-avatar",i.leadingIcon)("mat-mdc-chip-highlighted",i.highlighted)("mat-mdc-chip-disabled",i.disabled)("mat-mdc-basic-chip",i._isBasicChip)("mat-mdc-standard-chip",!i._isBasicChip)("mat-mdc-chip-with-trailing-icon",i._hasTrailingIcon())("_mat-animation-noopable",i._animationsDisabled))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",role:"role",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaDescription:["aria-description","ariaDescription"],value:"value",removable:"removable",highlighted:"highlighted"},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[t._Bn([{provide:Y,useExisting:n}]),t.qOj],ngContentSelectors:Et,decls:9,vars:6,consts:[["matRipple","",1,"mat-mdc-chip-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],["class","mdc-evolution-chip__graphic mat-mdc-chip-graphic",4,"ngIf"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing",4,"ngIf"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(e,i){1&e&&(t.F$t(St),t._UZ(0,"span",0)(1,"span",1),t.TgZ(2,"span",2)(3,"span",3),t.YNc(4,Ut,2,0,"span",4),t.TgZ(5,"span",5),t.Hsn(6),t._UZ(7,"span",6),t.qZA()()(),t.YNc(8,qt,2,0,"span",7)),2&e&&(t.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i._isRippleCentered)("matRippleTrigger",i._elementRef.nativeElement),t.xp6(3),t.Q6J("isInteractive",!1),t.xp6(1),t.Q6J("ngIf",i.leadingIcon),t.xp6(4),t.Q6J("ngIf",i._hasTrailingIcon()))},dependencies:[u.O5,g.wG,w],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height);--mdc-chip-container-shape-family:rounded;--mdc-chip-container-shape-radius:16px 16px 16px 16px;--mdc-chip-with-avatar-avatar-shape-family:rounded;--mdc-chip-with-avatar-avatar-shape-radius:14px 14px 14px 14px;--mdc-chip-with-avatar-avatar-size:28px;--mdc-chip-with-icon-icon-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size);width:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size);width:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:.4}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{flex-basis:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{opacity:.04}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{opacity:.12}.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-chip-remove{opacity:.54}.mat-mdc-chip-remove:focus{opacity:1}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px) * -1);left:8px;right:8px}.mat-mdc-chip-remove .mat-icon{width:inherit;height:inherit;font-size:inherit;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),G=(()=>{class n{constructor(e,i){this._elementRef=e,this._document=i}initialize(e){this.getNativeElement().focus(),this.setValue(e)}getNativeElement(){return this._elementRef.nativeElement}setValue(e){this.getNativeElement().textContent=e,this._moveCursorToEndOfInput()}getValue(){return this.getNativeElement().textContent||""}_moveCursorToEndOfInput(){const e=this._document.createRange();e.selectNodeContents(this.getNativeElement()),e.collapse(!1);const i=window.getSelection();i.removeAllRanges(),i.addRange(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(u.K0))},n.\u0275dir=t.lG2({type:n,selectors:[["span","matChipEditInput",""]],hostAttrs:["role","textbox","tabindex","-1","contenteditable","true",1,"mat-chip-edit-input"]}),n})(),nt=(()=>{class n extends R{constructor(e,i,a,c,s,p,h,m){super(e,i,a,c,s,p,h,m),this.basicChipAttrName="mat-basic-chip-row",this._editStartPending=!1,this.editable=!1,this.edited=new t.vpe,this._isEditing=!1,this.role="row",this._onBlur.pipe((0,E.R)(this.destroyed)).subscribe(()=>{this._isEditing&&!this._editStartPending&&this._onEditFinish()})}_hasTrailingIcon(){return!this._isEditing&&super._hasTrailingIcon()}_handleFocus(){!this._isEditing&&!this.disabled&&this.focus()}_handleKeydown(e){e.keyCode!==C.K5||this.disabled?this._isEditing?e.stopPropagation():super._handleKeydown(e):this._isEditing?(e.preventDefault(),this._onEditFinish()):this.editable&&this._startEditing(e)}_handleDoubleclick(e){!this.disabled&&this.editable&&this._startEditing(e)}_startEditing(e){if(!this.primaryAction||this.removeIcon&&this._getSourceAction(e.target)===this.removeIcon)return;const i=this.value;this._isEditing=!0,this._editStartPending=!0,setTimeout(()=>{this._getEditInput().initialize(i),this._editStartPending=!1})}_onEditFinish(){this._isEditing=!1,this._editStartPending=!1,this.edited.emit({chip:this,value:this._getEditInput().getValue()}),(this._document.activeElement===this._getEditInput().getNativeElement()||this._document.activeElement===this._document.body)&&this.primaryAction.focus()}_getEditInput(){return this.contentEditInput||this.defaultEditInput}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(j.tE),t.Y36(u.K0),t.Y36(t.QbO,8),t.Y36(g.Y2,8),t.$8M("tabindex"))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-chip-row"],["","mat-chip-row",""],["mat-basic-chip-row"],["","mat-basic-chip-row",""]],contentQueries:function(e,i,a){if(1&e&&t.Suo(a,G,5),2&e){let c;t.iGM(c=t.CRH())&&(i.contentEditInput=c.first)}},viewQuery:function(e,i){if(1&e&&t.Gf(G,5),2&e){let a;t.iGM(a=t.CRH())&&(i.defaultEditInput=a.first)}},hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-row","mdc-evolution-chip"],hostVars:27,hostBindings:function(e,i){1&e&&t.NdJ("focus",function(c){return i._handleFocus(c)})("dblclick",function(c){return i._handleDoubleclick(c)}),2&e&&(t.Ikx("id",i.id),t.uIk("tabindex",i.disabled?null:-1)("aria-label",null)("aria-description",null)("role",i.role),t.ekj("mat-mdc-chip-with-avatar",i.leadingIcon)("mat-mdc-chip-disabled",i.disabled)("mat-mdc-chip-editing",i._isEditing)("mat-mdc-chip-editable",i.editable)("mdc-evolution-chip--disabled",i.disabled)("mdc-evolution-chip--with-trailing-action",i._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",i.leadingIcon)("mdc-evolution-chip--with-primary-icon",i.leadingIcon)("mdc-evolution-chip--with-avatar",i.leadingIcon)("mat-mdc-chip-highlighted",i.highlighted)("mat-mdc-chip-with-trailing-icon",i._hasTrailingIcon()))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",editable:"editable"},outputs:{edited:"edited"},features:[t._Bn([{provide:R,useExisting:n},{provide:Y,useExisting:n}]),t.qOj],ngContentSelectors:Wt,decls:10,vars:12,consts:[[4,"ngIf"],["role","gridcell","matChipAction","",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary",3,"tabIndex","disabled"],["class","mdc-evolution-chip__graphic mat-mdc-chip-graphic",4,"ngIf"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label",3,"ngSwitch"],[4,"ngSwitchCase"],["aria-hidden","true",1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing","role","gridcell",4,"ngIf"],[1,"cdk-visually-hidden",3,"id"],["matRipple","",1,"mat-mdc-chip-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[4,"ngIf","ngIfElse"],["defaultMatChipEditInput",""],["matChipEditInput",""],["role","gridcell",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(e,i){1&e&&(t.F$t(jt),t.YNc(0,Qt,3,3,"ng-container",0),t.TgZ(1,"span",1),t.YNc(2,zt,2,0,"span",2),t.TgZ(3,"span",3),t.YNc(4,Bt,2,0,"ng-container",4),t.YNc(5,Xt,4,2,"ng-container",4),t._UZ(6,"span",5),t.qZA()(),t.YNc(7,Kt,2,0,"span",6),t.TgZ(8,"span",7),t._uU(9),t.qZA()),2&e&&(t.Q6J("ngIf",!i._isEditing),t.xp6(1),t.Q6J("tabIndex",i.tabIndex)("disabled",i.disabled),t.uIk("aria-label",i.ariaLabel)("aria-describedby",i._ariaDescriptionId),t.xp6(1),t.Q6J("ngIf",i.leadingIcon),t.xp6(1),t.Q6J("ngSwitch",i._isEditing),t.xp6(1),t.Q6J("ngSwitchCase",!1),t.xp6(1),t.Q6J("ngSwitchCase",!0),t.xp6(2),t.Q6J("ngIf",i._hasTrailingIcon()),t.xp6(1),t.Q6J("id",i._ariaDescriptionId),t.xp6(1),t.Oqu(i.ariaDescription))},dependencies:[u.O5,u.RF,u.n9,g.wG,w,G],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height);--mdc-chip-container-shape-family:rounded;--mdc-chip-container-shape-radius:16px 16px 16px 16px;--mdc-chip-with-avatar-avatar-shape-family:rounded;--mdc-chip-with-avatar-avatar-shape-radius:14px 14px 14px 14px;--mdc-chip-with-avatar-avatar-size:28px;--mdc-chip-with-icon-icon-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size);width:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size);width:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:.4}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{flex-basis:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{opacity:.04}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{opacity:.12}.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-chip-remove{opacity:.54}.mat-mdc-chip-remove:focus{opacity:1}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px) * -1);left:8px;right:8px}.mat-mdc-chip-remove .mat-icon{width:inherit;height:inherit;font-size:inherit;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();class ce{constructor(o){}}const re=(0,g.sb)(ce);let at=(()=>{class n extends re{get chipFocusChanges(){return this._getChipStream(e=>e._onFocus)}get chipDestroyedChanges(){return this._getChipStream(e=>e.destroyed)}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,v.Ig)(e),this._syncChipsState()}get empty(){return 0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(e){this._explicitRole=e}get focused(){return this._hasFocusedChip()}constructor(e,i,a){super(e),this._elementRef=e,this._changeDetectorRef=i,this._dir=a,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new H.x,this._defaultRole="presentation",this._disabled=!1,this._explicitRole=null,this._chipActions=new t.n_E}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(e=>e._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(e=>{e.disabled=this._disabled,e._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(e){this._originatesFromChip(e)&&this._keyManager.onKeydown(e)}_isValidIndex(e){return e>=0&&e<this._chips.length}_allowFocusEscape(){if(-1!==this.tabIndex){const e=this.tabIndex;this.tabIndex=-1,setTimeout(()=>this.tabIndex=e)}}_getChipStream(e){return this._chips.changes.pipe((0,U.O)(null),(0,k.w)(()=>(0,$.T)(...this._chips.map(e))))}_originatesFromChip(e){let i=e.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList.contains("mat-mdc-chip"))return!0;i=i.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe((0,U.O)(this._chips)).subscribe(e=>{const i=[];e.forEach(a=>a._getActions().forEach(c=>i.push(c))),this._chipActions.reset(i),this._chipActions.notifyOnChanges()}),this._keyManager=new j.Em(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(e=>this._skipPredicate(e)),this.chipFocusChanges.pipe((0,E.R)(this._destroyed)).subscribe(({chip:e})=>{const i=e._getSourceAction(document.activeElement);i&&this._keyManager.updateActiveItem(i)}),this._dir?.change.pipe((0,E.R)(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e))}_skipPredicate(e){return!e.isInteractive||e.disabled}_trackChipSetChanges(){this._chips.changes.pipe((0,U.O)(null),(0,E.R)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe((0,E.R)(this._destroyed)).subscribe(e=>{const a=this._chips.toArray().indexOf(e.chip);this._isValidIndex(a)&&e.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=a)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const e=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),i=this._chips.toArray()[e];i.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():i.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(yt.Is,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-chip-set"]],contentQueries:function(e,i,a){if(1&e&&t.Suo(a,R,5),2&e){let c;t.iGM(c=t.CRH())&&(i._chips=c)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(e,i){1&e&&t.NdJ("keydown",function(c){return i._handleKeydown(c)}),2&e&&t.uIk("role",i.role)},inputs:{disabled:"disabled",role:"role"},features:[t.qOj],ngContentSelectors:W,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(e,i){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.qZA())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0}),n})();class de{constructor(o,e){this.source=o,this.value=e}}class pe extends at{constructor(o,e,i,a,c,s,p){super(o,e,i),this._defaultErrorStateMatcher=a,this._parentForm=c,this._parentFormGroup=s,this.ngControl=p,this.stateChanges=new H.x}}const he=(0,g.FD)(pe);let Rt=(()=>{class n extends he{get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=(0,v.Ig)(e),this._syncChipsState()}get id(){return this._chipInput.id}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this._chips||0===this._chips.length)}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get focused(){return this._chipInput.focused||this._hasFocusedChip()}get required(){return this._required??this.ngControl?.control?.hasValidator(d.kI.required)??!1}set required(e){this._required=(0,v.Ig)(e),this.stateChanges.next()}get shouldLabelFloat(){return!this.empty||this.focused}get value(){return this._value}set value(e){this._value=e}get chipBlurChanges(){return this._getChipStream(e=>e._onBlur)}constructor(e,i,a,c,s,p,h){super(e,i,a,p,c,s,h),this.controlType="mat-chip-grid",this._defaultRole="grid",this._ariaDescribedbyIds=[],this._onTouched=()=>{},this._onChange=()=>{},this._value=[],this.change=new t.vpe,this.valueChange=new t.vpe,this._chips=void 0,this.ngControl&&(this.ngControl.valueAccessor=this)}ngAfterContentInit(){this.chipBlurChanges.pipe((0,E.R)(this._destroyed)).subscribe(()=>{this._blur(),this.stateChanges.next()}),(0,$.T)(this.chipFocusChanges,this._chips.changes).pipe((0,E.R)(this._destroyed)).subscribe(()=>this.stateChanges.next())}ngAfterViewInit(){super.ngAfterViewInit()}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnDestroy(){super.ngOnDestroy(),this.stateChanges.complete()}registerInput(e){this._chipInput=e,this._chipInput.setDescribedByIds(this._ariaDescribedbyIds)}onContainerClick(e){!this.disabled&&!this._originatesFromChip(e)&&this.focus()}focus(){this.disabled||this._chipInput.focused||(!this._chips.length||this._chips.first.disabled?Promise.resolve().then(()=>this._chipInput.focus()):this._chips.length&&this._keyManager.setFirstItemActive(),this.stateChanges.next())}setDescribedByIds(e){this._ariaDescribedbyIds=e,this._chipInput?.setDescribedByIds(e)}writeValue(e){this._value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this.stateChanges.next()}_blur(){this.disabled||setTimeout(()=>{this.focused||(this._propagateChanges(),this._markAsTouched())})}_allowFocusEscape(){this._chipInput.focused||super._allowFocusEscape()}_handleKeydown(e){e.keyCode===C.Mf?this._chipInput.focused&&(0,C.Vb)(e,"shiftKey")&&this._chips.length&&!this._chips.last.disabled?(e.preventDefault(),this._keyManager.activeItem?this._keyManager.setActiveItem(this._keyManager.activeItem):this._focusLastChip()):super._allowFocusEscape():this._chipInput.focused||super._handleKeydown(e),this.stateChanges.next()}_focusLastChip(){this._chips.length&&this._chips.last.focus()}_propagateChanges(){const e=this._chips.length?this._chips.toArray().map(i=>i.value):[];this._value=e,this.change.emit(new de(this,e)),this.valueChange.emit(e),this._onChange(e),this._changeDetectorRef.markForCheck()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(yt.Is,8),t.Y36(d.F,8),t.Y36(d.sg,8),t.Y36(g.rD),t.Y36(d.a5,10))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-chip-grid"]],contentQueries:function(e,i,a){if(1&e&&t.Suo(a,nt,5),2&e){let c;t.iGM(c=t.CRH())&&(i._chips=c)}},hostAttrs:[1,"mat-mdc-chip-set","mat-mdc-chip-grid","mdc-evolution-chip-set"],hostVars:10,hostBindings:function(e,i){1&e&&t.NdJ("focus",function(){return i.focus()})("blur",function(){return i._blur()}),2&e&&(t.Ikx("tabIndex",i._chips&&0===i._chips.length?-1:i.tabIndex),t.uIk("role",i.role)("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState),t.ekj("mat-mdc-chip-list-disabled",i.disabled)("mat-mdc-chip-list-invalid",i.errorState)("mat-mdc-chip-list-required",i.required))},inputs:{tabIndex:"tabIndex",disabled:"disabled",placeholder:"placeholder",required:"required",value:"value",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},features:[t._Bn([{provide:T.Eo,useExisting:n}]),t.qOj],ngContentSelectors:W,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(e,i){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.qZA())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0}),n})(),me=0,Dt=(()=>{class n{set chipGrid(e){e&&(this._chipGrid=e,this._chipGrid.registerInput(this))}get addOnBlur(){return this._addOnBlur}set addOnBlur(e){this._addOnBlur=(0,v.Ig)(e)}get disabled(){return this._disabled||this._chipGrid&&this._chipGrid.disabled}set disabled(e){this._disabled=(0,v.Ig)(e)}get empty(){return!this.inputElement.value}constructor(e,i,a){this._elementRef=e,this.focused=!1,this._addOnBlur=!1,this.chipEnd=new t.vpe,this.placeholder="",this.id="mat-mdc-chip-list-input-"+me++,this._disabled=!1,this.inputElement=this._elementRef.nativeElement,this.separatorKeyCodes=i.separatorKeyCodes,a&&this.inputElement.classList.add("mat-mdc-form-field-input-control")}ngOnChanges(){this._chipGrid.stateChanges.next()}ngOnDestroy(){this.chipEnd.complete()}ngAfterContentInit(){this._focusLastChipOnBackspace=this.empty}_keydown(e){if(e){if(e.keyCode===C.ZH&&this._focusLastChipOnBackspace)return this._chipGrid._focusLastChip(),void e.preventDefault();this._focusLastChipOnBackspace=!1}this._emitChipEnd(e)}_keyup(e){!this._focusLastChipOnBackspace&&e.keyCode===C.ZH&&this.empty&&(this._focusLastChipOnBackspace=!0,e.preventDefault())}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipGrid.focused||this._chipGrid._blur(),this._chipGrid.stateChanges.next()}_focus(){this.focused=!0,this._focusLastChipOnBackspace=this.empty,this._chipGrid.stateChanges.next()}_emitChipEnd(e){(!e||this._isSeparatorKey(e))&&(this.chipEnd.emit({input:this.inputElement,value:this.inputElement.value,chipInput:this}),e?.preventDefault())}_onInput(){this._chipGrid.stateChanges.next()}focus(){this.inputElement.focus()}clear(){this.inputElement.value="",this._focusLastChipOnBackspace=!0}setDescribedByIds(e){const i=this._elementRef.nativeElement;e.length?i.setAttribute("aria-describedby",e.join(" ")):i.removeAttribute("aria-describedby")}_isSeparatorKey(e){return!(0,C.Vb)(e)&&new Set(this.separatorKeyCodes).has(e.keyCode)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(q),t.Y36(T.G_,8))},n.\u0275dir=t.lG2({type:n,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-mdc-chip-input","mat-mdc-input-element","mdc-text-field__input","mat-input-element"],hostVars:6,hostBindings:function(e,i){1&e&&t.NdJ("keydown",function(c){return i._keydown(c)})("keyup",function(c){return i._keyup(c)})("blur",function(){return i._blur()})("focus",function(){return i._focus()})("input",function(){return i._onInput()}),2&e&&(t.Ikx("id",i.id),t.uIk("disabled",i.disabled||null)("placeholder",i.placeholder||null)("aria-invalid",i._chipGrid&&i._chipGrid.ngControl?i._chipGrid.ngControl.invalid:null)("aria-required",i._chipGrid&&i._chipGrid.required||null)("required",i._chipGrid&&i._chipGrid.required||null))},inputs:{chipGrid:["matChipInputFor","chipGrid"],addOnBlur:["matChipInputAddOnBlur","addOnBlur"],separatorKeyCodes:["matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",disabled:"disabled"},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[t.TTD]}),n})(),_e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[g.rD,{provide:q,useValue:{separatorKeyCodes:[C.K5]}}],imports:[g.BQ,u.ez,g.si,g.BQ]}),n})();var ot=l(5940),_=l(5313),ue=l(9780),ge=l(3600),fe=l(3912),y=l(5187),ct=l(5828),D=l(7788),S=l(7398),A=l(4716),ve=l(2856),P=l(9879),Z=l(360);let rt=(()=>{class n{constructor(e,i,a){(0,r.Z)(this,"remoteConfig",void 0),(0,r.Z)(this,"notification",void 0),(0,r.Z)(this,"database",void 0),this.remoteConfig=e,this.notification=i,this.database=a}resolve(e,i){return this.notification.showLoading(),(0,D.D)(this.remoteConfig.getValue("test_set_rules")).pipe((0,S.U)(a=>{const c=JSON.parse(a.asString()),s=this.database.testSetRules;let p;try{for(const h in c)p=c[h],p.forEach(m=>{typeof m[1]>"u"&&(m[1]=0),typeof m[2]>"u"&&(m[2]=1/0)}),s.set(h,p)}catch(h){console.error(h)}return!0}),(0,A.x)(()=>{this.notification.hideLoading()}))}}return(0,r.Z)(n,"\u0275fac",function(e){return new(e||n)(t.LFG(ve.uR),t.LFG(P.g),t.LFG(Z.k))}),(0,r.Z)(n,"\u0275prov",t.Yz7({token:n,factory:n.\u0275fac})),n})();var Ce=l(8337),xt=l(3620),Nt=l(119),Ot=l(960);class Q{constructor(o,e=0,i=""){(0,r.Z)(this,"date",void 0),(0,r.Z)(this,"quantity",void 0),(0,r.Z)(this,"comment",void 0),this.date=o,this.quantity=e,this.comment=i}}var st=l(2040),be=l(6189);let z=(()=>{class n{constructor(e,i,a){(0,r.Z)(this,"dateAdapter",void 0),(0,r.Z)(this,"authService",void 0),(0,r.Z)(this,"fireDb",void 0),this.dateAdapter=e,this.authService=i,this.fireDb=a}getEventListRef(){return this.fireDb.list(`users/${this.authService.user.uid}/medicare/events`)}getEventRef(e){return this.fireDb.object(`users/${this.authService.user.uid}/medicare/events/${e}`)}getFirstAppliedDate(){return this.fireDb.object(`users/${this.authService.user.uid}/medicare/first_applied_date`).valueChanges().pipe((0,S.U)(e=>this.dateAdapter.deserialize(e)))}setFirstAppliedDate(e){return(0,D.D)(this.fireDb.object(`users/${this.authService.user.uid}/medicare`).update({first_applied_date:e?this.dateAdapter.toIso8601(e):null}))}getFirstTookDate(){return this.fireDb.object(`users/${this.authService.user.uid}/medicare/first_took_date`).valueChanges().pipe((0,S.U)(e=>this.dateAdapter.deserialize(e)))}setFirstTookDate(e){return(0,D.D)(this.fireDb.object(`users/${this.authService.user.uid}/medicare`).update({first_took_date:e?this.dateAdapter.toIso8601(e):null}))}}return(0,r.Z)(n,"\u0275fac",function(e){return new(e||n)(t.LFG(g._A),t.LFG(st.b),t.LFG(be.KQ))}),(0,r.Z)(n,"\u0275prov",t.Yz7({token:n,factory:n.\u0275fac})),n})();var I=l(2296),f=l(8034),L=l(617),B=l(4414),J=l(3135),ye=l(8701),Se=l(2606),V=l(2596),lt=l(2784);function Ee(n,o){1&n&&(t.TgZ(0,"th",33),t.ynx(1),t.SDv(2,34),t.BQk(),t.qZA())}function Me(n,o){if(1&n&&(t.TgZ(0,"td",35),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.date,"longDate"))}}function Te(n,o){1&n&&(t.TgZ(0,"th",33),t.ynx(1),t.SDv(2,36),t.BQk(),t.qZA())}function Ae(n,o){if(1&n&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(e.quantity)}}function Ie(n,o){1&n&&(t.TgZ(0,"th",33),t.ynx(1),t.SDv(2,37),t.BQk(),t.qZA())}function we(n,o){if(1&n&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(e.comment)}}function Re(n,o){1&n&&t._UZ(0,"tr",39)}function De(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"tr",40),t.NdJ("click",function(){const c=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.rowSelection.select(c))}),t.qZA()}if(2&n){const e=o.$implicit,i=t.oxw();t.ekj("table-active",i.rowSelection.isSelected(e))}}function xe(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"li",41)(1,"mat-calendar",42),t.NdJ("selectedChange",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.select(a))}),t.qZA()()}if(2&n){const e=o.$implicit,i=t.oxw();t.xp6(1),t.Q6J("headerComponent",i.calendarHeader)("startAt",e)("dateClass",i.setCalendarClassFn)}}let Ne=(()=>{class n extends((0,Nt.tS)(class{constructor(){}})){constructor(e,i,a,c,s,p,h){super(),(0,r.Z)(this,"changeDetectorRef",void 0),(0,r.Z)(this,"dateAdapter",void 0),(0,r.Z)(this,"datePipe",void 0),(0,r.Z)(this,"router",void 0),(0,r.Z)(this,"route",void 0),(0,r.Z)(this,"notification",void 0),(0,r.Z)(this,"medicareService",void 0),(0,r.Z)(this,"datePickerHeader",Ot.GX),(0,r.Z)(this,"calendarHeader",Ot.Vg),(0,r.Z)(this,"missingCount",0),(0,r.Z)(this,"currentDate",void 0),(0,r.Z)(this,"yearMonths",void 0),(0,r.Z)(this,"isLoadingResults",!1),(0,r.Z)(this,"setCalendarClassFn",void 0),(0,r.Z)(this,"dataSource",void 0),(0,r.Z)(this,"displayingCols",["date","quantity","comment"]),(0,r.Z)(this,"rowSelection",new Ce.Ov(!1)),(0,r.Z)(this,"firstAppliedDate",void 0),(0,r.Z)(this,"firstTookDate",void 0),(0,r.Z)(this,"appliedDateMap",new Map),this.changeDetectorRef=e,this.dateAdapter=i,this.datePipe=a,this.router=c,this.route=s,this.notification=p,this.medicareService=h,this.currentDate=i.createDate(i.getYear(i.today()),0,1),this.dataSource=new _.by}ngOnInit(){this.setCalendarClassFn=e=>{const i=this.dateAdapter,a=this.firstAppliedDate,c=this.firstTookDate,s=this.appliedDateMap,p=this.getDateKey(e);let h="";if(i.isDateInstance(a)&&i.compareDate(e,a)>=0&&s.has(this.getDateKey(e))&&(h+=s.get(p)<0?" bg-danger":" bg-warning"),i.isDateInstance(c)&&i.compareDate(e,c)>=0){const m=this.calcDateDiff(e,c);m>=0&&(m-Math.floor(m/90))%90==0&&(h+=" bg-success")}return this.dataSource.data?.some(m=>this.getDateKey(m.date)===p)&&(h+=" bg-info"),h&&(h+=" rounded-circle text-white fw-bold"),h},this.subscription.add(this.rowSelection.changed.subscribe(e=>{this.select(e.added[0].date)})),this.notification.showLoading(),this.subscription.add((0,$.T)(this.medicareService.getFirstAppliedDate().pipe((0,S.U)(e=>{console.log(e),this.firstAppliedDate=e})),this.medicareService.getFirstTookDate().pipe((0,S.U)(e=>{this.firstTookDate=e})),this.medicareService.getEventListRef().valueChanges().pipe((0,S.U)(e=>(this.dataSource.data=e?e.map(i=>new Q(this.dateAdapter.deserialize(i.date),(0,v.su)(i.quantity),i.comment)).sort((i,a)=>a.date.valueOf()-i.date.valueOf()):[],e)))).pipe((0,xt.b)(300),(0,A.x)(()=>{this.notification.hideLoading()})).subscribe(()=>{this.chosenYearHandler(this.currentDate),this.notification.hideLoading()}))}prevYear(){this.chosenYearHandler(this.dateAdapter.addCalendarYears(this.currentDate,-1))}nextYear(){this.chosenYearHandler(this.dateAdapter.addCalendarYears(this.currentDate,1))}chosenYearHandler(e,i){const a=this.dateAdapter.getYear(e);this.currentDate=this.dateAdapter.createDate(a,0,1),this.calcMissing(a),this.generateMonthDates(a),i?.close()}select(e){this.router.navigate([{outlets:{secondary:["medicare-event",this.dateAdapter.toIso8601(e)]}}],{queryParamsHandling:"preserve",relativeTo:this.route.parent})}generateMonthDates(e){const i=this.dateAdapter,a=[];for(let c=0;c<12;c++)a.push(i.createDate(e,c,1));this.yearMonths=a,this.changeDetectorRef.markForCheck()}calcMissing(e){const i=this.dateAdapter,a=this.appliedDateMap;let c=this.firstAppliedDate,s=0;if(a.clear(),c){const h=i.createDate(e,11,31);let M,b,m=i.addCalendarDays(c,-1),ft=0,vt=!1;for(;this.calcDateDiff(m,h)<=0;)if(m=i.addCalendarDays(m,1),i.sameDate(m,c))if(M=this.getDateKey(c),b=i.getDayOfWeek(m),b>0&&b<6){if(vt&&(vt=!1,ft--),a.set(M,0),c=i.addCalendarDays(c,90),ft++,ft%4==0){const K=c;c=i.createDate(i.getYear(c),i.getMonth(this.firstAppliedDate),i.getDate(this.firstAppliedDate)+1),s-=this.calcDateDiff(c,K)-1}m=i.addCalendarDays(m,89)}else{const K=0===b?1:2,$t=K-(vt?1:0);c=i.addCalendarDays(c,K),a.set(M,Math.min(-1,-$t)),s-=$t}}this.dataSource.data?.forEach(p=>{s+=p.quantity}),this.missingCount=s,this.changeDetectorRef.markForCheck()}calcDateDiff(e,i){const a=this.dateAdapter,c=Date.UTC(a.getYear(i),a.getMonth(i),a.getDate(i)),s=Date.UTC(a.getYear(e),a.getMonth(e),a.getDate(e));return Math.floor((s-c)/864e5)}getDateKey(e){return this.datePipe.transform(e,"yyyy-MM-dd")}}return(0,r.Z)(n,"\u0275fac",function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(g._A),t.Y36(u.uU),t.Y36(y.F0),t.Y36(y.gz),t.Y36(P.g),t.Y36(z))}),(0,r.Z)(n,"\u0275cmp",t.Xpm({type:n,selectors:[["app-medicare-schedule"]],hostAttrs:[1,"d-flex","flex-column","flex-nowrap","w-100","h-100"],features:[t._Bn([z]),t.qOj],decls:54,vars:14,consts:function(){let o,e,i,a,c,s,p,h,m,M;return o="\u9009\u62E9\u5E74\u4EFD",e="\u4E0A\u4E00\u5E74",i="\u4E0B\u4E00\u5E74",a="\u8BA1\u5212\u533B\u4FDD\u7533\u8BF7",c="\u8BA1\u5212\u533B\u4FDD\u7533\u8BF7\u9047\u975E\u5DE5\u4F5C\u65E5",s="\u4E8B\u4EF6",p="\u5B9E\u9645\u5B63\u5EA6\u670D\u836F\u5468\u671F\u8D77\u59CB\u65E5\u671F",h="\u65E5\u671F",m="\u6570\u91CF",M="\u5907\u6CE8",[["mat-button","","matTooltip",o,3,"for"],["matDatepickerToggleIcon",""],["type","button","mat-button","","matTooltip",e,3,"click"],["type","button","mat-button","","matTooltip",i,3,"click"],[1,"visually-hidden",3,"matDatepicker","ngModel"],["startView","multi-year",3,"calendarHeaderComponent","yearSelected"],["targetDatePicker",""],["appStartContent","",1,"d-flex","flex-column","h-100"],[1,"w-100","h-100","overflow-auto"],["mat-table","",1,"table","table-sm","table-bordered","table-striped","table-hover","table-narrow","w-100",3,"dataSource"],["matColumnDef","date"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","text-nowrap",4,"matCellDef"],["matColumnDef","quantity"],["matColumnDef","comment"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"table-active","click",4,"matRowDef","matRowDefColumns"],[1,"container-main"],[1,"pt-3","px-3"],[1,"p-0","m-0","d-flex","flex-wrap",2,"list-style","none"],[1,"me-3"],[1,"d-inline-block","rounded-circle","p-2","me-1","align-middle","bg-warning"],a,[1,"d-inline-block","rounded-circle","p-2","me-1","align-middle","bg-danger"],c,[1,"d-inline-block","rounded-circle","p-2","me-1","align-middle","bg-info"],["matBadgeOverlap","false",1,"me-4",3,"matBadge"],s,[1,"d-inline-block","rounded-circle","p-2","me-1","align-middle","bg-success"],p,[1,"list-calendar","d-flex","flex-wrap"],["class","col-sm-6 col-md-4 col-xl-3 col-xxl-2 p-3",4,"ngFor","ngForOf"],["mat-header-cell",""],h,["mat-cell","",1,"text-nowrap"],m,M,["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click"],[1,"col-sm-6","col-md-4","col-xl-3","col-xxl-2","p-3"],[3,"headerComponent","startAt","dateClass","selectedChange"]]},template:function(e,i){if(1&e){const a=t.EpF();t.TgZ(0,"app-operation-toolbar")(1,"mat-datepicker-toggle",0)(2,"mat-icon",1),t._uU(3,"today"),t.qZA()(),t.TgZ(4,"button",2),t.NdJ("click",function(){return i.prevYear()}),t.TgZ(5,"mat-icon"),t._uU(6,"chevron_left"),t.qZA()(),t.TgZ(7,"button",3),t.NdJ("click",function(){return i.nextYear()}),t.TgZ(8,"mat-icon"),t._uU(9,"chevron_right"),t.qZA()()(),t._UZ(10,"app-breadcrumb")(11,"input",4),t.TgZ(12,"mat-datepicker",5,6),t.NdJ("yearSelected",function(s){t.CHM(a);const p=t.MAs(13);return t.KtG(i.chosenYearHandler(s,p))}),t.qZA(),t.TgZ(14,"app-two-cols-layout")(15,"div",7)(16,"div",8)(17,"table",9),t.ynx(18,10),t.YNc(19,Ee,3,0,"th",11),t.YNc(20,Me,3,4,"td",12),t.BQk(),t.ynx(21,13),t.YNc(22,Te,3,0,"th",11),t.YNc(23,Ae,2,1,"td",12),t.BQk(),t.ynx(24,14),t.YNc(25,Ie,3,0,"th",11),t.YNc(26,we,2,1,"td",15),t.BQk(),t.YNc(27,Re,1,0,"tr",16),t.YNc(28,De,1,2,"tr",17),t.qZA()()(),t.TgZ(29,"div",18)(30,"header",19)(31,"h1"),t._uU(32),t.ALo(33,"date"),t.qZA(),t.TgZ(34,"ul",20)(35,"li",21),t._UZ(36,"span",22),t.ynx(37),t.SDv(38,23),t.BQk(),t.qZA(),t.TgZ(39,"li",21),t._UZ(40,"span",24),t.ynx(41),t.SDv(42,25),t.BQk(),t.qZA(),t.TgZ(43,"li",21),t._UZ(44,"span",26),t.TgZ(45,"span",27),t.ynx(46),t.SDv(47,28),t.BQk(),t.qZA()(),t.TgZ(48,"li"),t._UZ(49,"span",29),t.ynx(50),t.SDv(51,30),t.BQk(),t.qZA()()(),t.TgZ(52,"ol",31),t.YNc(53,xe,2,3,"li",32),t.qZA()()()}if(2&e){const a=t.MAs(13);t.xp6(1),t.Q6J("for",a),t.xp6(10),t.Q6J("matDatepicker",a)("ngModel",i.currentDate),t.xp6(1),t.Q6J("calendarHeaderComponent",i.datePickerHeader),t.xp6(5),t.Q6J("dataSource",i.dataSource),t.xp6(10),t.Q6J("matHeaderRowDef",i.displayingCols)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",i.displayingCols),t.xp6(4),t.Oqu(t.xi3(33,11,i.currentDate,"yyyy")),t.xp6(13),t.Q6J("matBadge",i.missingCount),t.xp6(8),t.Q6J("ngForOf",i.yearMonths)}},dependencies:[u.sg,d.Fj,d.JJ,d.On,I.lW,f._H,f.Mq,f.hl,f.nW,f.Q0,L.Hw,bt.k,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,B.L,J.U,ye.o,Se.h,V.gM,lt.e],styles:[".container-main[_ngcontent-%COMP%]{flex:1 1 auto;overflow:auto}.list-calendar[_ngcontent-%COMP%]{padding:0;margin:0;list-style:none}.mat-calendar[_ngcontent-%COMP%]{min-height:100%;border:solid 1px #E8E8E8;border-radius:10px;background-color:#fff}.mat-row[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}"],changeDetection:0})),n})();var dt=l(6306),pt=l(8504),ht=l(2096),X=l(2032),Oe=l(2599);function ke(n,o){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"save"),t.qZA())}function Pe(n,o){1&n&&t._UZ(0,"mat-progress-spinner",27)}function Ze(n,o){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"delete"),t.qZA())}function Le(n,o){1&n&&t._UZ(0,"mat-progress-spinner",27)}function He(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.deleteRecord())}),t.YNc(1,Ze,2,0,"mat-icon",21),t.YNc(2,Le,1,0,"mat-progress-spinner",22),t.ynx(3),t.SDv(4,29),t.BQk(),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",e.loading)("ngSwitch",e.loading),t.xp6(1),t.Q6J("ngSwitchCase",!1),t.xp6(1),t.Q6J("ngSwitchCase",!0)}}let $e=(()=>{class n extends((0,Nt.tS)(class{constructor(){}})){constructor(e,i,a,c){super(),(0,r.Z)(this,"dateAdapter",void 0),(0,r.Z)(this,"router",void 0),(0,r.Z)(this,"route",void 0),(0,r.Z)(this,"medicareService",void 0),(0,r.Z)(this,"currentEvent",new Q),(0,r.Z)(this,"isExisted",!1),(0,r.Z)(this,"loading",!1),(0,r.Z)(this,"isFirstAppliedDate",new d.NI(!1)),(0,r.Z)(this,"isFirstTookDate",new d.NI(!1)),(0,r.Z)(this,"eventForm",void 0),this.dateAdapter=e,this.router=i,this.route=a,this.medicareService=c}ngOnInit(){this.subscription.add(this.route.paramMap.pipe((0,S.U)(e=>{const i=this.dateAdapter.deserialize(e.get("date"));return i&&this.dateAdapter.isValid(i)?(this.isFirstAppliedDate.enable(),this.isFirstTookDate.enable()):(this.isFirstAppliedDate.disable(),this.isFirstTookDate.disable()),i}),(0,k.w)(e=>this.medicareService.getFirstAppliedDate().pipe((0,F.q)(1),(0,S.U)(i=>(this.isFirstAppliedDate.setValue(this.dateAdapter.sameDate(e,i),{emitEvent:!1}),e)))),(0,k.w)(e=>this.medicareService.getFirstTookDate().pipe((0,F.q)(1),(0,S.U)(i=>(this.isFirstTookDate.setValue(this.dateAdapter.sameDate(e,i),{emitEvent:!1}),e))))).subscribe(e=>{this.loading=!0,this.medicareService.getEventRef(this.dateAdapter.toIso8601(e)).snapshotChanges().pipe((0,F.q)(1),(0,A.x)(()=>{this.loading=!1})).subscribe(i=>{if(this.isExisted=!!i.key,this.isExisted){const a=i.payload;this.currentEvent=new Q(e,a.quantity,a.comment)}else this.currentEvent=new Q(e)})}))}changeFirstAppliedDate(e){this.medicareService.setFirstAppliedDate(e?this.currentEvent.date:null).subscribe()}changeFirstTookDate(e){this.medicareService.setFirstTookDate(e?this.currentEvent.date:null).subscribe()}onDateChange(e){const i=this.dateAdapter.sameDate(e.value,this.currentEvent.date);e.value?(this.isFirstAppliedDate.enable(),this.isFirstTookDate.enable()):(this.isFirstAppliedDate.disable(),this.isFirstTookDate.disable()),this.isFirstAppliedDate.setValue(i,{emitEvent:!1}),this.isFirstTookDate.setValue(i,{emitEvent:!1})}deleteRecord(){this.loading=!0,this.eventForm.control.disable(),(0,D.D)(this.medicareService.getEventRef(this.getCurrentUid()).remove()).pipe((0,dt.K)(e=>(this.eventForm.control.enable(),(0,pt._)(()=>e))),(0,A.x)(()=>{this.loading=!1})).subscribe(()=>{this.close()})}save(){if(this.eventForm?.valid){const e=this.currentEvent,i=this.getCurrentUid(),a=this.dateAdapter.toIso8601(e.date);e.quantity=Math.round(e.quantity),this.loading=!0,this.eventForm.control.disable(),(i!==a?(0,D.D)(this.medicareService.getEventRef(i).remove()):(0,ht.of)(null)).pipe((0,k.w)(()=>(0,D.D)(this.medicareService.getEventRef(a).update({...e,date:a})).pipe((0,dt.K)(c=>(this.eventForm.control.enable(),(0,pt._)(()=>c))),(0,A.x)(()=>{this.loading=!1})))).subscribe(()=>{this.close()})}}cancel(){this.close()}close(){this.router.navigate([{outlets:{secondary:null}}],{queryParamsHandling:"preserve",relativeTo:this.route.parent})}getCurrentUid(){return this.route.snapshot.paramMap.get("date")}}return(0,r.Z)(n,"\u0275fac",function(e){return new(e||n)(t.Y36(g._A),t.Y36(y.F0),t.Y36(y.gz),t.Y36(z))}),(0,r.Z)(n,"\u0275cmp",t.Xpm({type:n,selectors:[["app-medicare-event"]],viewQuery:function(e,i){if(1&e&&t.Gf(d.F,5),2&e){let a;t.iGM(a=t.CRH())&&(i.eventForm=a.first)}},hostAttrs:[1,"d-flex","flex-column","flex-nowrap","w-100","h-100"],features:[t._Bn([z]),t.qOj],decls:47,vars:13,consts:function(){let o,e,i,a,c,s,p,h;return o="\u65F6\u95F4",e="\u6570\u91CF",i="\u5907\u6CE8",a="\u8BA1\u5212\u533B\u4FDD\u7533\u8BF7",c="\u8BBE\u4E3A\u9996\u6B21\u670D\u836F\u65E5\u671F",s="\u4FDD\u5B58",p="\u53D6\u6D88",h="\u5220\u9664",[["name","eventForm",1,"d-flex","flex-column","flex-nowrap","flex-fill","overflow-hidden",3,"ngSubmit"],[1,"flex-fill","overflow-auto"],[1,"container-fluid","pt-3"],[1,"row"],[1,"col"],["appearance","outline",1,"w-100"],o,["name","bizDatetime","required","","matInput","",3,"matDatepicker","ngModel","dateChange","ngModelChange"],["matSuffix","",3,"for"],["color","primary"],["picker",""],e,["name","amount","type","number","step","1","required","","matInput","",3,"ngModel","ngModelChange"],i,["name","comment","matInput","",3,"ngModel","ngModelChange"],[1,"row","mb-2"],["color","primary",3,"formControl","toggleChange"],a,c,[1,"container-fluid","pt-3","pb-3","text-end"],["type","submit","mat-flat-button","","color","primary",1,"me-2",3,"disabled","ngSwitch"],[4,"ngSwitchCase"],["class","d-inline-block align-middle","color","accent","diameter","24","mode","indeterminate",4,"ngSwitchCase"],s,["type","button","class","me-2","mat-flat-button","","color","warn",3,"disabled","ngSwitch","click",4,"ngIf"],["type","button","mat-stroked-button","","color","accent",1,"me-2",3,"disabled","click"],p,["color","accent","diameter","24","mode","indeterminate",1,"d-inline-block","align-middle"],["type","button","mat-flat-button","","color","warn",1,"me-2",3,"disabled","ngSwitch","click"],h]},template:function(e,i){if(1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return i.save()}),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"mat-form-field",5)(6,"mat-label"),t.SDv(7,6),t.qZA(),t.TgZ(8,"input",7),t.NdJ("dateChange",function(c){return i.onDateChange(c)})("ngModelChange",function(c){return i.currentEvent.date=c}),t.qZA(),t._UZ(9,"mat-datepicker-toggle",8)(10,"mat-datepicker",9,10),t.qZA()()(),t.TgZ(12,"div",3)(13,"div",4)(14,"mat-form-field",5)(15,"mat-label"),t.SDv(16,11),t.qZA(),t.TgZ(17,"input",12),t.NdJ("ngModelChange",function(c){return i.currentEvent.quantity=c}),t.qZA()()()(),t.TgZ(18,"div",3)(19,"div",4)(20,"mat-form-field",5)(21,"mat-label"),t.SDv(22,13),t.qZA(),t.TgZ(23,"textarea",14),t.NdJ("ngModelChange",function(c){return i.currentEvent.comment=c}),t.qZA()()()(),t._UZ(24,"hr"),t.TgZ(25,"div",15)(26,"div",4)(27,"mat-slide-toggle",16),t.NdJ("toggleChange",function(){return i.changeFirstAppliedDate(!i.isFirstAppliedDate.value)}),t.ynx(28),t.SDv(29,17),t.BQk(),t.qZA()()(),t.TgZ(30,"div",3)(31,"div",4)(32,"mat-slide-toggle",16),t.NdJ("toggleChange",function(){return i.changeFirstTookDate(!i.isFirstTookDate.value)}),t.ynx(33),t.SDv(34,18),t.BQk(),t.qZA()()()()(),t.TgZ(35,"div",19)(36,"button",20),t.YNc(37,ke,2,0,"mat-icon",21),t.YNc(38,Pe,1,0,"mat-progress-spinner",22),t.ynx(39),t.SDv(40,23),t.BQk(),t.qZA(),t.YNc(41,He,5,4,"button",24),t.TgZ(42,"button",25),t.NdJ("click",function(){return i.cancel()}),t.TgZ(43,"mat-icon"),t._uU(44,"cancel"),t.qZA(),t.ynx(45),t.SDv(46,26),t.BQk(),t.qZA()()()),2&e){const a=t.MAs(11);t.xp6(8),t.Q6J("matDatepicker",a)("ngModel",i.currentEvent.date),t.xp6(1),t.Q6J("for",a),t.xp6(8),t.Q6J("ngModel",i.currentEvent.quantity),t.xp6(6),t.Q6J("ngModel",i.currentEvent.comment),t.xp6(4),t.Q6J("formControl",i.isFirstAppliedDate),t.xp6(5),t.Q6J("formControl",i.isFirstTookDate),t.xp6(4),t.Q6J("disabled",i.loading)("ngSwitch",i.loading),t.xp6(1),t.Q6J("ngSwitchCase",!1),t.xp6(1),t.Q6J("ngSwitchCase",!0),t.xp6(3),t.Q6J("ngIf",i.isExisted),t.xp6(1),t.Q6J("disabled",i.loading)}},dependencies:[u.O5,u.RF,u.n9,d._Y,d.Fj,d.wV,d.JJ,d.JL,d.Q7,d.On,d.F,I.lW,f.Mq,f.hl,f.nW,T.KE,T.hX,T.R9,L.Hw,X.Nt,Oe.Rr,d.oH,ot.Ou],encapsulation:2})),n})();var kt=l(4508),x=l(7928);const N="p",O="h";var Fe=l(7394);let mt=(()=>{class n{constructor(){(0,r.Z)(this,"dataSource",void 0),(0,r.Z)(this,"displayedHeaderColumns",void 0),(0,r.Z)(this,"displayedColumns",void 0),(0,r.Z)(this,"selectedRow",void 0),(0,r.Z)(this,"requestSubs",void 0),(0,r.Z)(this,"subscription",new Fe.w0)}ngOnInit(){this.displayedColumns=this.displayedHeaderColumns.map(e=>e.key)}ngOnDestroy(){this.subscription.unsubscribe()}setSelectedRow(e){this.selectedRow&&(this.selectedRow.selected=!1),e.selected=!0,this.selectedRow=e}}return(0,r.Z)(n,"\u0275fac",function(e){return new(e||n)}),(0,r.Z)(n,"\u0275dir",t.lG2({type:n})),n})();var Pt=l(4688),Zt=l(8572),_t=l(8525);function Ue(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.exit())}),t.TgZ(1,"mat-icon"),t._uU(2,"highlight_off"),t.qZA()()}}function qe(n,o){if(1&n&&(t.TgZ(0,"mat-option",25),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.label," ")}}function Ye(n,o){if(1&n&&(t.TgZ(0,"mat-form-field",8),t._UZ(1,"input",26),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("formControl",e.patientCtrl)}}function Ge(n,o){1&n&&t._UZ(0,"th",34)}function Qe(n,o){if(1&n&&(t.TgZ(0,"td",35)(1,"span",36),t._uU(2),t.qZA()()),2&n){const e=o.$implicit,i=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",e[i.key]," ")}}function ze(n,o){if(1&n&&(t.ynx(0,31),t.YNc(1,Ge,1,0,"th",32),t.YNc(2,Qe,3,1,"td",33),t.BQk()),2&n){const e=t.oxw().$implicit;t.Q6J("matColumnDef",e.key)}}function Be(n,o){if(1&n&&(t.TgZ(0,"th",34)(1,"span",36),t._uU(2),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(2),t.Oqu(e.label)}}function Je(n,o){if(1&n&&(t.TgZ(0,"td",35)(1,"span",36),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&n){const e=o.$implicit,i=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",t.xi3(3,1,e[i.key],"yyyy-MM-dd")," ")}}function Ve(n,o){if(1&n&&(t.ynx(0,31),t.YNc(1,Be,3,1,"th",32),t.YNc(2,Je,4,4,"td",33),t.BQk()),2&n){const e=t.oxw().$implicit;t.Q6J("matColumnDef",e.key)}}function Xe(n,o){if(1&n&&(t.TgZ(0,"th",39)(1,"span",36),t._uU(2),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(2),t.Oqu(e.label)}}function Ke(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"td",35)(1,"button",40),t.NdJ("click",function(){const c=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.goToReports(c))}),t.TgZ(2,"mat-icon"),t._uU(3,"receipt"),t.qZA()()()}}function je(n,o){if(1&n&&(t.ynx(0,37),t.YNc(1,Xe,3,1,"th",38),t.YNc(2,Ke,4,0,"td",33),t.BQk()),2&n){const e=t.oxw().$implicit;t.Q6J("matColumnDef",e.key)}}function We(n,o){if(1&n&&(t.TgZ(0,"th",34)(1,"span",36),t._uU(2),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(2),t.Oqu(e.label)}}function ti(n,o){if(1&n&&(t.TgZ(0,"td",35)(1,"span",36),t._uU(2),t.qZA()()),2&n){const e=o.$implicit,i=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",e[i.key]," ")}}function ei(n,o){if(1&n&&(t.ynx(0,41),t.YNc(1,We,3,1,"th",32),t.YNc(2,ti,3,1,"td",33),t.BQk()),2&n){const e=t.oxw().$implicit;t.Q6J("matColumnDef",e.key)}}function ii(n,o){1&n&&(t.ynx(0,27),t.YNc(1,ze,3,1,"ng-container",28),t.YNc(2,Ve,3,1,"ng-container",28),t.YNc(3,je,3,1,"ng-container",29),t.YNc(4,ei,3,1,"ng-container",30),t.BQk()),2&n&&(t.Q6J("ngSwitch",o.$implicit.key),t.xp6(1),t.Q6J("ngSwitchCase","patient_id"),t.xp6(1),t.Q6J("ngSwitchCase","datetime"),t.xp6(1),t.Q6J("ngSwitchCase","operation"))}function ni(n,o){1&n&&t._UZ(0,"tr",42)}function ai(n,o){1&n&&t._UZ(0,"tr",43),2&n&&t.ekj("table-info",!!o.$implicit.selected)}let Lt=(()=>{class n extends mt{constructor(e,i,a,c,s,p,h,m,M){super(),(0,r.Z)(this,"elementRef",void 0),(0,r.Z)(this,"route",void 0),(0,r.Z)(this,"router",void 0),(0,r.Z)(this,"dateAdapter",void 0),(0,r.Z)(this,"communication",void 0),(0,r.Z)(this,"notification",void 0),(0,r.Z)(this,"datetimeService",void 0),(0,r.Z)(this,"authService",void 0),(0,r.Z)(this,"database",void 0),(0,r.Z)(this,"isFromSide",!1),(0,r.Z)(this,"dateRange",new d.cw({start:new d.NI(null),end:new d.NI(null)})),(0,r.Z)(this,"patientCtrl",new d.NI(null)),(0,r.Z)(this,"hospitalCtrl",new d.NI(x.wt,d.kI.required)),(0,r.Z)(this,"hospitals",x.id),(0,r.Z)(this,"isAdmin",void 0),this.elementRef=e,this.route=i,this.router=a,this.dateAdapter=c,this.communication=s,this.notification=p,this.datetimeService=h,this.authService=m,this.database=M,this.dataSource=new _.by,this.displayedHeaderColumns=[{label:"",key:"patient_id"},{label:"\u5C31\u8BCA\u53F7",key:"adm_no"},{label:"\u65E5\u671F",key:"reg_date"},{label:"\u8D39\u7528",key:"reg_fee"},{label:"\u533B\u9662",key:"hospital_name"},{label:"\u79D1\u5BA4",key:"department"},{label:"\u533B\u751F",key:"doctor"},{label:"\u533B\u751F\u5934\u8854",key:"doctor_title"},{label:"",key:"operation"}]}ngOnInit(){super.ngOnInit(),this.isFromSide="secondary"===this.route.outlet,this.getHospitalCode(this.route.snapshot.queryParamMap),this.getPatientID(this.route.snapshot.queryParamMap),this.subscription.add(this.route.queryParamMap.subscribe(a=>{this.getHospitalCode(a),this.getPatientID(a)})),this.isAdmin=this.authService.getRoles().pipe((0,S.U)(a=>a.includes(kt.i.ADMIN)));const e=this.dateAdapter.today(),i=this.dateAdapter.createDate(this.dateAdapter.getYear(e),0,1);this.datetimeService.initTimeRange(this.dateRange,i,e),this.getDataList()}ngOnDestroy(){super.ngOnDestroy(),this.datetimeService.destoryTimeRange()}toFullScreen(){this.communication.giveFullScreenCommand()}prevYear(){const i=this.dateAdapter.getYear(this.dateRange.value.start)-1;this.dateRange.setValue({start:this.dateAdapter.createDate(i,0,1),end:this.dateAdapter.createDate(i,11,31)})}nextYear(){const i=this.dateAdapter.getYear(this.dateRange.value.end)+1;this.dateRange.setValue({start:this.dateAdapter.createDate(i,0,1),end:this.dateAdapter.createDate(i,11,31)})}exit(){this.router.navigate([{outlets:{secondary:null}}],{queryParamsHandling:"preserve",relativeTo:this.route.parent})}goToReports(e){const i=this.hospitalCtrl.value,a=this.dateAdapter.deserialize(e.admit_date);this.setSelectedRow(e),this.router.navigate([{outlets:{secondary:["reports"]}}],{queryParams:{startTime:a.valueOf(),endTime:a.valueOf(),[O]:i,[N]:e.patient_id},queryParamsHandling:"merge",relativeTo:this.route.parent})}search(){this.getDataList()}getDataList(){const e=this.patientCtrl.value||this.authService.user.cardNo,i=this.hospitalCtrl.value,a=this.dateRange.value;this.requestSubs&&this.requestSubs.unsubscribe(),this.notification.showLoading(this.elementRef.nativeElement),this.requestSubs=this.database.getMedicalRecords(i,e,a.start,a.end).pipe((0,A.x)(()=>{this.requestSubs=void 0,this.notification.hideLoading()})).subscribe(c=>{this.dataSource.data=c.data.is_success?c.data.data.orders:[]})}getHospitalCode(e){e.get(O)&&this.hospitalCtrl.setValue(e.get(O))}getPatientID(e){e.get(N)&&this.patientCtrl.setValue(e.get(N))}}return(0,r.Z)(n,"\u0275fac",function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(y.gz),t.Y36(y.F0),t.Y36(g._A),t.Y36(Pt.O),t.Y36(P.g),t.Y36(Zt.d),t.Y36(st.b),t.Y36(Z.k))}),(0,r.Z)(n,"\u0275cmp",t.Xpm({type:n,selectors:[["app-medical-records"]],hostAttrs:[1,"d-flex","flex-column","flex-nowrap","h-100"],features:[t.qOj],decls:41,vars:22,consts:function(){let o,e,i,a,c,s,p;return o="\u5168\u5C4F",e="\u9000\u51FA",i="\u4E0A\u4E00\u5E74",a="\u4E0B\u4E00\u5E74",c="\u533B\u9662",s="\u641C\u7D22",p="\u5C31\u8BCA\u5361\u53F7",[["role","group",1,"btn-group"],["type","button","mat-button","","matTooltip",o,3,"click"],["fontSet","Marching"],["type","button","mat-button","","matTooltip",e,3,"click",4,"ngIf"],["mat-button","",3,"for"],["matDatepickerToggleIcon",""],["type","button","mat-button","","matTooltip",i,3,"click"],["type","button","mat-button","","matTooltip",a,3,"click"],["appearance","fill",1,"mat-form-field-mini"],["name","hospital","panelClass","mat-select-hospital","placeholder",c,3,"formControl"],["class","text-nowrap",3,"value",4,"ngFor","ngForOf"],["class","mat-form-field-mini","appearance","fill",4,"ngIf"],["type","button","mat-button","","matTooltip",s,3,"click"],[1,"align-middle","ms-2"],[1,"visually-hidden",3,"formGroup","rangePicker"],["matStartDate","","formControlName","start"],["matEndDate","","formControlName","end"],["dateRangePicker",""],[1,"flex-fill","overflow-hidden","p-2"],[1,"w-100","mh-100","overflow-auto","main-content"],["mat-table","",1,"table","table-sm","table-bordered","table-striped","table-hover","table-narrow","w-100",3,"dataSource"],[3,"ngSwitch",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"table-info",4,"matRowDef","matRowDefColumns"],["type","button","mat-button","","matTooltip",e,3,"click"],[1,"text-nowrap",3,"value"],["type","text","required","","matInput","","placeholder",p,3,"formControl"],[3,"ngSwitch"],["sticky","true",3,"matColumnDef",4,"ngSwitchCase"],["stickyEnd","true",3,"matColumnDef",4,"ngSwitchCase"],[3,"matColumnDef",4,"ngSwitchDefault"],["sticky","true",3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""],[1,"text-nowrap"],["stickyEnd","true",3,"matColumnDef"],["mat-header-cell","","width","1",4,"matHeaderCellDef"],["mat-header-cell","","width","1"],["type","button","mat-icon-button","","color","primary",3,"click"],[3,"matColumnDef"],["mat-header-row",""],["mat-row",""]]},template:function(e,i){if(1&e&&(t.TgZ(0,"app-operation-toolbar")(1,"div",0)(2,"button",1),t.NdJ("click",function(){return i.toFullScreen()}),t.TgZ(3,"mat-icon",2),t._uU(4,"desktop_mac"),t.qZA()(),t.YNc(5,Ue,3,0,"button",3),t.qZA(),t.TgZ(6,"div",0)(7,"mat-datepicker-toggle",4)(8,"mat-icon",5),t._uU(9,"date_range"),t.qZA()(),t.TgZ(10,"button",6),t.NdJ("click",function(){return i.prevYear()}),t.TgZ(11,"mat-icon"),t._uU(12,"chevron_left"),t.qZA()(),t.TgZ(13,"button",7),t.NdJ("click",function(){return i.nextYear()}),t.TgZ(14,"mat-icon"),t._uU(15,"chevron_right"),t.qZA()()(),t.TgZ(16,"mat-form-field",8)(17,"mat-select",9),t.YNc(18,qe,2,2,"mat-option",10),t.qZA()(),t.YNc(19,Ye,2,1,"mat-form-field",11),t.ALo(20,"async"),t.TgZ(21,"div",0)(22,"button",12),t.NdJ("click",function(){return i.search()}),t.TgZ(23,"mat-icon",2),t._uU(24,"search"),t.qZA()()()(),t.TgZ(25,"app-breadcrumb")(26,"span",13),t._uU(27),t.ALo(28,"date"),t.ALo(29,"date"),t.qZA()(),t.TgZ(30,"mat-date-range-input",14),t._UZ(31,"input",15)(32,"input",16),t.qZA(),t._UZ(33,"mat-date-range-picker",null,17),t.TgZ(35,"div",18)(36,"div",19)(37,"table",20),t.YNc(38,ii,5,4,"ng-container",21),t.YNc(39,ni,1,0,"tr",22),t.YNc(40,ai,1,2,"tr",23),t.qZA()()()),2&e){const a=t.MAs(34);t.xp6(5),t.Q6J("ngIf",i.isFromSide),t.xp6(2),t.Q6J("for",a),t.xp6(10),t.Q6J("formControl",i.hospitalCtrl),t.xp6(1),t.Q6J("ngForOf",i.hospitals),t.xp6(1),t.Q6J("ngIf",t.lcZ(20,14,i.isAdmin)),t.xp6(8),t.AsE(" (",t.xi3(28,16,i.dateRange.value.start,"longDate")," - ",t.xi3(29,19,i.dateRange.value.end,"longDate"),") "),t.xp6(3),t.Q6J("formGroup",i.dateRange)("rangePicker",a),t.xp6(7),t.Q6J("dataSource",i.dataSource),t.xp6(1),t.Q6J("ngForOf",i.displayedHeaderColumns),t.xp6(1),t.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns)}},dependencies:[u.sg,u.O5,u.RF,u.n9,u.ED,d.Fj,d.JJ,d.JL,d.Q7,I.lW,I.RK,f.nW,f.Q0,f.wx,f.zY,f.By,f._g,T.KE,L.Hw,X.Nt,_t.gD,g.ey,d.oH,d.sg,d.u,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,B.L,J.U,V.gM,u.Ov,lt.e],styles:["[_nghost-%COMP%]{width:calc(100vw - 330px);min-width:100%;max-width:100%}"]})),n})();var oi=l(6990);function ci(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.exit())}),t.TgZ(1,"mat-icon"),t._uU(2,"highlight_off"),t.qZA()()}}function ri(n,o){if(1&n&&(t.TgZ(0,"mat-option",25),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.label," ")}}function si(n,o){if(1&n&&(t.TgZ(0,"mat-form-field",8),t._UZ(1,"input",26),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("formControl",e.patientCtrl)}}function li(n,o){if(1&n&&(t.TgZ(0,"th",33)(1,"span",34),t._uU(2),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(2),t.Oqu(e.test_set_desc)}}function di(n,o){if(1&n&&(t.TgZ(0,"td",35)(1,"span",34),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&n){const e=o.$implicit,i=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",t.xi3(3,1,e[i.test_set_code],"yyyy-MM-dd hh:mm:ss")," ")}}function pi(n,o){if(1&n&&(t.ynx(0,30),t.YNc(1,li,3,1,"th",31),t.YNc(2,di,4,4,"td",32),t.BQk()),2&n){const e=t.oxw().$implicit;t.Q6J("matColumnDef",e.test_set_code)}}function hi(n,o){if(1&n&&(t.TgZ(0,"th",39)(1,"span",34),t._uU(2),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.uIk("colspan",e.resultSize),t.xp6(2),t.Oqu(e.test_set_desc)}}function mi(n,o){if(1&n&&(t.TgZ(0,"th",33)(1,"div",34),t._uU(2),t.qZA(),t.TgZ(3,"span",34),t._uU(4),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.AsE("",e.value.test_name," | ",e.value.test_code,""),t.xp6(2),t.AsE("",e.value.ranges," (",e.value.units,")")}}function _i(n,o){1&n&&(t.TgZ(0,"mat-icon",44),t._uU(1,"north"),t.qZA())}function ui(n,o){1&n&&(t.TgZ(0,"mat-icon",45),t._uU(1,"south"),t.qZA())}function gi(n,o){if(1&n&&(t.TgZ(0,"td",41)(1,"span",34),t._uU(2),t.YNc(3,_i,2,0,"mat-icon",42),t.YNc(4,ui,2,0,"mat-icon",43),t.qZA()()),2&n){const e=o.$implicit,i=t.oxw().$implicit,a=t.oxw(2).$implicit;t.Q6J("ngSwitch",null==e[a.test_set_code]||null==e[a.test_set_code].resultMap[i.key]?null:e[a.test_set_code].resultMap[i.key].result_flag),t.xp6(2),t.hij(" ",null==e[a.test_set_code]||null==e[a.test_set_code].resultMap[i.key]?null:e[a.test_set_code].resultMap[i.key].result," "),t.xp6(1),t.Q6J("ngSwitchCase","H"),t.xp6(1),t.Q6J("ngSwitchCase","L")}}function fi(n,o){1&n&&(t.ynx(0,36),t.YNc(1,mi,5,4,"th",31),t.YNc(2,gi,5,4,"td",40),t.BQk()),2&n&&t.Q6J("matColumnDef",o.$implicit.key)}function vi(n,o){if(1&n&&(t.ynx(0)(1,36),t.YNc(2,hi,3,2,"th",37),t.BQk(),t.YNc(3,fi,3,1,"ng-container",38),t.ALo(4,"keyvalue"),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("matColumnDef",e.test_set_code),t.xp6(2),t.Q6J("ngForOf",t.lcZ(4,2,e.resultMap))}}function Ci(n,o){1&n&&(t.ynx(0,27),t.YNc(1,pi,3,1,"ng-container",28),t.YNc(2,vi,5,4,"ng-container",29),t.BQk()),2&n&&(t.Q6J("ngSwitch",o.$implicit.test_set_code),t.xp6(1),t.Q6J("ngSwitchCase","datetime"))}function bi(n,o){1&n&&t._UZ(0,"tr",46)}function yi(n,o){1&n&&t._UZ(0,"tr",46)}function Si(n,o){1&n&&t._UZ(0,"tr",47)}let Ht=(()=>{class n extends mt{constructor(e,i,a,c,s,p,h,m,M){super(),(0,r.Z)(this,"elementRef",void 0),(0,r.Z)(this,"route",void 0),(0,r.Z)(this,"router",void 0),(0,r.Z)(this,"dateAdapter",void 0),(0,r.Z)(this,"communication",void 0),(0,r.Z)(this,"notification",void 0),(0,r.Z)(this,"datetimeService",void 0),(0,r.Z)(this,"authService",void 0),(0,r.Z)(this,"database",void 0),(0,r.Z)(this,"isFromSide",!1),(0,r.Z)(this,"categoryHeaderColumns",[]),(0,r.Z)(this,"reportCategories",[]),(0,r.Z)(this,"dateRange",new d.cw({start:new d.NI(null),end:new d.NI(null)})),(0,r.Z)(this,"patientCtrl",new d.NI(null)),(0,r.Z)(this,"hospitalCtrl",new d.NI(x.wt,d.kI.required)),(0,r.Z)(this,"hospitals",x.id),(0,r.Z)(this,"isAdmin",void 0),this.elementRef=e,this.route=i,this.router=a,this.dateAdapter=c,this.communication=s,this.notification=p,this.datetimeService=h,this.authService=m,this.database=M,this.dataSource=new _.by}ngOnInit(){this.isFromSide="secondary"===this.route.outlet,this.getHospitalCode(this.route.snapshot.queryParamMap),this.getPatientID(this.route.snapshot.queryParamMap),this.subscription.add(this.route.queryParamMap.subscribe(a=>{this.getHospitalCode(a),this.getPatientID(a)})),this.isAdmin=this.authService.getRoles().pipe((0,S.U)(a=>a.includes(kt.i.ADMIN)));const e=this.dateAdapter.today(),i=this.dateAdapter.createDate(this.dateAdapter.getYear(e),0,1);this.datetimeService.initTimeRange(this.dateRange,i,e),this.getDataList()}ngOnDestroy(){super.ngOnDestroy(),this.datetimeService.destoryTimeRange()}toFullScreen(){this.communication.giveFullScreenCommand()}prevYear(){const i=this.dateAdapter.getYear(this.dateRange.value.start)-1;this.dateRange.setValue({start:this.dateAdapter.createDate(i,0,1),end:this.dateAdapter.createDate(i,11,31)})}nextYear(){const i=this.dateAdapter.getYear(this.dateRange.value.end)+1;this.dateRange.setValue({start:this.dateAdapter.createDate(i,0,1),end:this.dateAdapter.createDate(i,11,31)})}exit(){this.router.navigate([{outlets:{secondary:null}}],{queryParamsHandling:"preserve",relativeTo:this.route.parent})}search(){this.getDataList()}getDataList(){const e=this.dateRange.value,i=this.patientCtrl.value||this.authService.user.cardNo,a=this.hospitalCtrl.value;this.requestSubs&&this.requestSubs.unsubscribe(),this.notification.showLoading(this.elementRef),this.requestSubs=this.database.getReports(a,i,e.start,e.end).pipe((0,A.x)(()=>{this.requestSubs=void 0,this.notification.hideLoading()})).subscribe(c=>{let s=c.reportCategories.length?["datetime"]:[];this.categoryHeaderColumns=c.reportCategories.map(p=>(p.resultMap&&(s=s.concat((0,oi.keys)(p.resultMap))),p.test_set_code)),this.displayedColumns=s,this.reportCategories=c.reportCategories,this.dataSource.data=c.reports})}getHospitalCode(e){e.get(O)&&this.hospitalCtrl.setValue(e.get(O))}getPatientID(e){e.get(N)&&this.patientCtrl.setValue(e.get(N))}}return(0,r.Z)(n,"\u0275fac",function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(y.gz),t.Y36(y.F0),t.Y36(g._A),t.Y36(Pt.O),t.Y36(P.g),t.Y36(Zt.d),t.Y36(st.b),t.Y36(Z.k))}),(0,r.Z)(n,"\u0275cmp",t.Xpm({type:n,selectors:[["app-reports"]],hostAttrs:[1,"d-flex","flex-column","flex-nowrap","h-100"],features:[t.qOj],decls:42,vars:24,consts:function(){let o,e,i,a,c,s,p;return o="\u5168\u5C4F",e="\u9000\u51FA",i="\u4E0A\u4E00\u5E74",a="\u4E0B\u4E00\u5E74",c="\u533B\u9662",s="\u641C\u7D22",p="\u5C31\u8BCA\u5361\u53F7",[["role","group",1,"btn-group"],["type","button","mat-button","","matTooltip",o,3,"click"],["fontSet","Marching"],["type","button","mat-button","","matTooltip",e,3,"click",4,"ngIf"],["mat-button","",3,"for"],["matDatepickerToggleIcon",""],["type","button","mat-button","","matTooltip",i,3,"click"],["type","button","mat-button","","matTooltip",a,3,"click"],["appearance","fill",1,"mat-form-field-mini"],["name","hospital","panelClass","mat-select-hospital","placeholder",c,3,"formControl"],["class","text-nowrap",3,"value",4,"ngFor","ngForOf"],["class","mat-form-field-mini","appearance","fill",4,"ngIf"],["type","button","mat-button","","matTooltip",s,3,"click"],[1,"align-middle","ms-2"],[1,"visually-hidden",3,"formGroup","rangePicker"],["matStartDate","","formControlName","start"],["matEndDate","","formControlName","end"],["dateRangePicker",""],[1,"flex-fill","overflow-hidden","p-2"],[1,"w-100","mh-100","overflow-auto","main-content"],["mat-table","",1,"table","table-sm","table-bordered","table-striped","table-hover","table-narrow","w-100",3,"dataSource"],[3,"ngSwitch",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["type","button","mat-button","","matTooltip",e,3,"click"],[1,"text-nowrap",3,"value"],["type","text","required","","matInput","","placeholder",p,3,"formControl"],[3,"ngSwitch"],["sticky","true",3,"matColumnDef",4,"ngSwitchCase"],[4,"ngSwitchDefault"],["sticky","true",3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell",""],[1,"text-nowrap"],["mat-cell",""],[3,"matColumnDef"],["mat-header-cell","","class","text-start",4,"matHeaderCellDef"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-cell","",1,"text-start"],["mat-cell","",3,"ngSwitch",4,"matCellDef"],["mat-cell","",3,"ngSwitch"],["class","text-danger align-middle small",4,"ngSwitchCase"],["class","text-success align-middle small",4,"ngSwitchCase"],[1,"text-danger","align-middle","small"],[1,"text-success","align-middle","small"],["mat-header-row",""],["mat-row",""]]},template:function(e,i){if(1&e&&(t.TgZ(0,"app-operation-toolbar")(1,"div",0)(2,"button",1),t.NdJ("click",function(){return i.toFullScreen()}),t.TgZ(3,"mat-icon",2),t._uU(4,"desktop_mac"),t.qZA()(),t.YNc(5,ci,3,0,"button",3),t.qZA(),t.TgZ(6,"div",0)(7,"mat-datepicker-toggle",4)(8,"mat-icon",5),t._uU(9,"date_range"),t.qZA()(),t.TgZ(10,"button",6),t.NdJ("click",function(){return i.prevYear()}),t.TgZ(11,"mat-icon"),t._uU(12,"chevron_left"),t.qZA()(),t.TgZ(13,"button",7),t.NdJ("click",function(){return i.nextYear()}),t.TgZ(14,"mat-icon"),t._uU(15,"chevron_right"),t.qZA()()(),t.TgZ(16,"mat-form-field",8)(17,"mat-select",9),t.YNc(18,ri,2,2,"mat-option",10),t.qZA()(),t.YNc(19,si,2,1,"mat-form-field",11),t.ALo(20,"async"),t.TgZ(21,"div",0)(22,"button",12),t.NdJ("click",function(){return i.search()}),t.TgZ(23,"mat-icon",2),t._uU(24,"search"),t.qZA()()()(),t.TgZ(25,"app-breadcrumb")(26,"span",13),t._uU(27),t.ALo(28,"date"),t.ALo(29,"date"),t.qZA()(),t.TgZ(30,"mat-date-range-input",14),t._UZ(31,"input",15)(32,"input",16),t.qZA(),t._UZ(33,"mat-date-range-picker",null,17),t.TgZ(35,"div",18)(36,"div",19)(37,"table",20),t.YNc(38,Ci,3,2,"ng-container",21),t.YNc(39,bi,1,0,"tr",22),t.YNc(40,yi,1,0,"tr",22),t.YNc(41,Si,1,0,"tr",23),t.qZA()()()),2&e){const a=t.MAs(34);t.xp6(5),t.Q6J("ngIf",i.isFromSide),t.xp6(2),t.Q6J("for",a),t.xp6(10),t.Q6J("formControl",i.hospitalCtrl),t.xp6(1),t.Q6J("ngForOf",i.hospitals),t.xp6(1),t.Q6J("ngIf",t.lcZ(20,16,i.isAdmin)),t.xp6(8),t.AsE(" (",t.xi3(28,18,i.dateRange.value.start,"longDate")," - ",t.xi3(29,21,i.dateRange.value.end,"longDate"),") "),t.xp6(3),t.Q6J("formGroup",i.dateRange)("rangePicker",a),t.xp6(7),t.Q6J("dataSource",i.dataSource),t.xp6(1),t.Q6J("ngForOf",i.reportCategories),t.xp6(1),t.Q6J("matHeaderRowDef",i.categoryHeaderColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns)}},dependencies:[u.sg,u.O5,u.RF,u.n9,u.ED,d.Fj,d.JJ,d.JL,d.Q7,I.lW,f.nW,f.Q0,f.wx,f.zY,f.By,f._g,T.KE,L.Hw,X.Nt,_t.gD,g.ey,d.oH,d.sg,d.u,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,B.L,J.U,V.gM,u.Ov,u.Nd,lt.e],styles:["[_nghost-%COMP%]{width:calc(100vw - 330px);min-width:100%;max-width:100%}.mat-header-row[_ngcontent-%COMP%]:first-child > .mat-header-cell[_ngcontent-%COMP%]:first-child > span[_ngcontent-%COMP%]{display:none}.mat-header-row[_ngcontent-%COMP%]:last-child > .mat-header-cell[_ngcontent-%COMP%]:first-child > .mat-mdc-form-field[_ngcontent-%COMP%]{display:none}.mat-icon.small[_ngcontent-%COMP%]{transform:scale(.75)}"]})),n})();var Ei=l(4911),ut=l(7988);function Ti(n,o){if(1&n&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.label," ")}}function Ai(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"mat-chip-row",22),t.NdJ("removed",function(){const c=t.CHM(e).index,s=t.oxw();return t.KtG(s.range.value.keyWords.splice(c,1))}),t._uU(1),t.TgZ(2,"button",23)(3,"mat-icon"),t._uU(4,"cancel"),t.qZA()()()}if(2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e," ")}}function Ii(n,o){if(1&n&&(t.TgZ(0,"th",30)(1,"span",31),t._uU(2),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(2),t.Oqu(e.label)}}function wi(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"td",32)(1,"button",33)(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",null,34)(6,"button",35),t.NdJ("click",function(){const c=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.goToRecords(c))}),t.TgZ(7,"mat-icon"),t._uU(8,"medication_liquid"),t.qZA(),t.TgZ(9,"span"),t.SDv(10,36),t.qZA()(),t.TgZ(11,"button",35),t.NdJ("click",function(){const c=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.goToReports(c))}),t.TgZ(12,"mat-icon"),t._uU(13,"toc"),t.qZA(),t.TgZ(14,"span"),t.SDv(15,37),t.qZA()()()()}if(2&n){const e=t.MAs(5);t.xp6(1),t.Q6J("matMenuTriggerFor",e)}}function Ri(n,o){if(1&n&&(t.ynx(0,27),t.YNc(1,Ii,3,1,"th",28),t.YNc(2,wi,16,1,"td",29),t.BQk()),2&n){const e=t.oxw().$implicit;t.Q6J("matColumnDef",e.key)}}function Di(n,o){if(1&n&&(t.TgZ(0,"th",40)(1,"span",31),t._uU(2),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(2),t.Oqu(e.label)}}function xi(n,o){if(1&n&&(t.TgZ(0,"td",32)(1,"span",31),t._uU(2),t.qZA()()),2&n){const e=o.$implicit,i=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",e[i.key]," ")}}function Ni(n,o){if(1&n&&(t.ynx(0,38),t.YNc(1,Di,3,1,"th",39),t.YNc(2,xi,3,1,"td",29),t.BQk()),2&n){const e=t.oxw().$implicit;t.Q6J("matColumnDef",e.key)}}function Oi(n,o){1&n&&(t.ynx(0,24),t.YNc(1,Ri,3,1,"ng-container",25),t.YNc(2,Ni,3,1,"ng-container",26),t.BQk()),2&n&&(t.Q6J("ngSwitch",o.$implicit.key),t.xp6(1),t.Q6J("ngSwitchCase","operation"))}function ki(n,o){1&n&&t._UZ(0,"tr",41)}function Pi(n,o){1&n&&t._UZ(0,"tr",42),2&n&&t.ekj("table-info",!!o.$implicit.selected)}function Zi(n,o){if(1&n&&(t.TgZ(0,"div",43),t._UZ(1,"mat-progress-spinner",44)(2,"mat-progress-spinner",45),t.TgZ(3,"span",46),t._uU(4),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("value",e.progressValue),t.xp6(2),t.Oqu(e.count)}}let Li=(()=>{class n extends mt{constructor(e,i,a,c,s,p,h){super(),(0,r.Z)(this,"changeDetectorRef",void 0),(0,r.Z)(this,"elementRef",void 0),(0,r.Z)(this,"dateAdapter",void 0),(0,r.Z)(this,"route",void 0),(0,r.Z)(this,"router",void 0),(0,r.Z)(this,"notification",void 0),(0,r.Z)(this,"database",void 0),(0,r.Z)(this,"hospitals",x.id),(0,r.Z)(this,"hospitalCtrl",new d.NI(x.wt,d.kI.required)),(0,r.Z)(this,"range",new d.cw({start:new d.NI(null),end:new d.NI(null),keyWords:new d.NI([])})),(0,r.Z)(this,"progressValue",0),(0,r.Z)(this,"loading",!1),(0,r.Z)(this,"count",void 0),this.changeDetectorRef=e,this.elementRef=i,this.dateAdapter=a,this.route=c,this.router=s,this.notification=p,this.database=h,this.dataSource=new _.by([]),this.displayedHeaderColumns=[{label:"\u5FAE\u4FE1 ID",key:"wxid"},{label:"\u8BC1\u4EF6\u53F7\u7801",key:"idNo"},{label:"\u5C31\u8BCA\u5361\u53F7",key:"patientId"},{label:"\u59D3\u540D",key:"name"},{label:"\u6027\u522B",key:"sex"},{label:"\u5E74\u9F84",key:"age"},{label:"\u624B\u673A\u53F7\u7801",key:"mobile"},{label:"",key:"operation"}]}ngOnInit(){super.ngOnInit();const e=this.dataSource.filterPredicate;this.dataSource.filterPredicate=(i,a)=>this.range.value.keyWords.some(c=>e(i,c)),this.range.controls.keyWords.valueChanges.pipe((0,xt.b)(300)).subscribe(i=>{this.dataSource.filter=i.toString()})}ngOnDestroy(){super.ngOnDestroy(),this.requestSubs?.unsubscribe()}addKeyWord(e){const i=this.range.value.keyWords,a=(e.value||"").trim();a&&i.length<11&&(i.push(a),this.range.patchValue({keyWords:i})),e.chipInput.clear()}search(){if(this.range.valid){const e=(0,v.su)(this.range.value.start),i=(0,v.su)(this.range.value.end);this.getDataList(e,i)}}cancel(){this.requestSubs?.unsubscribe()}goToRecords(e){this.openSideView(e,["medical-records"])}goToReports(e){this.openSideView(e,["reports"])}getDataList(e,i){this.dataSource.data=[],this.loading=!0,this.changeDetectorRef.markForCheck(),this.requestSubs?.unsubscribe(),this.requestSubs=this.nextUser(e,i,i-e+1).pipe((0,A.x)(()=>{this.requestSubs=void 0,this.loading=!1,this.count="",this.progressValue=0,this.changeDetectorRef.markForCheck()})).subscribe()}nextUser(e,i,a){return function Mi(n,o,e){return(0,Ei.P)(()=>n()?o:e)}(()=>e<=i,this.database.getUserInfo(`${e}`,this.hospitalCtrl.value).pipe((0,dt.K)(s=>500===s.status&&!1===s.error?.success&&(s.error?.errors.msg).includes("unionid")?(this.notification.openWarning(s.error.errors.msg),(0,pt._)(()=>s.error)):(0,ht.of)({wxid:`${e}`})),(0,k.w)(s=>{if(s){if(s.idNo){s.idNo=s.idNo.trim();try{const p=this.dateAdapter.createDate(Number(s.idNo.slice(6,10)),Number(s.idNo.slice(10,12))-1,Number(s.idNo.slice(12,14)));s.age=`${s.age}/${Math.floor((this.dateAdapter.today().valueOf()-p.valueOf())/31536e6)}`}catch(p){s.age=`${s.age}/-`,this.notification.openInfo(`Unusual ID: ${s.idNo}. \n${s.idNo.slice(6,10)}-${s.idNo.slice(10,12)}-${s.idNo.slice(12,14)} \n${p.message}`)}}this.dataSource.data=this.dataSource.data.concat([s])}return this.count=`${e}`,this.progressValue=100*(1-(i-e+1)/a),this.changeDetectorRef.markForCheck(),this.nextUser(e+1,i,a)})),(0,ht.of)(null))}openSideView(e,i){const a=this.hospitalCtrl.value;this.setSelectedRow(e),this.router.navigate([{outlets:{secondary:i}}],{queryParams:{[O]:a,[N]:e.patientId},queryParamsHandling:"merge",relativeTo:this.route.parent})}}return(0,r.Z)(n,"\u0275fac",function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(g._A),t.Y36(y.gz),t.Y36(y.F0),t.Y36(P.g),t.Y36(Z.k))}),(0,r.Z)(n,"\u0275cmp",t.Xpm({type:n,selectors:[["app-user-list"]],hostAttrs:[1,"d-flex","flex-column","flex-nowrap","w-100","h-100"],features:[t.qOj],decls:29,vars:11,consts:function(){let o,e,i,a,c,s,p,h;return o="\u533B\u9662",e="\u8D77\u59CB\u503C",i="\u7ED3\u675F\u503C",a="\u5173\u952E\u5B57",c="\u641C\u7D22",s="\u53D6\u6D88",p="\u5C31\u8BCA\u8BB0\u5F55",h="\u4F53\u68C0\u62A5\u544A",[[3,"formGroup"],["appearance","fill",1,"mat-form-field-mini"],["name","hospital","panelClass","mat-select-hospital","placeholder",o,3,"formControl"],["class","text-nowrap",3,"value",4,"ngFor","ngForOf"],["type","number","min","0","step","50","required","","matInput","","formControlName","start","placeholder",e],["type","number","min","0","step","50","required","","matInput","","formControlName","end","placeholder",i],["appearance","fill",1,"mat-form-field-mini","mat-form-field-words"],["chipList",""],[3,"removed",4,"ngFor","ngForOf"],["type","text","placeholder",a,3,"matChipInputFor","matChipInputTokenEnd"],["role","group",1,"btn-group"],["type","button","mat-button","","matTooltip",c,3,"click"],["fontSet","Marching"],["type","button","mat-button","","matTooltip",s,3,"click"],[1,"flex-fill","overflow-hidden","p-2"],[1,"w-100","mh-100","overflow-auto","main-content"],["mat-table","",1,"table","table-sm","table-bordered","table-striped","table-hover","table-narrow","w-100",3,"dataSource"],[3,"ngSwitch",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"table-info",4,"matRowDef","matRowDefColumns"],["class","progress-loading",4,"ngIf"],[1,"text-nowrap",3,"value"],[3,"removed"],["matChipRemove",""],[3,"ngSwitch"],["stickyEnd","true",3,"matColumnDef",4,"ngSwitchCase"],[3,"matColumnDef",4,"ngSwitchDefault"],["stickyEnd","true",3,"matColumnDef"],["mat-header-cell","","width","1",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","width","1"],[1,"text-nowrap"],["mat-cell",""],["type","button","mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["menu","matMenu"],["type","button","mat-menu-item","",3,"click"],p,h,[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-cell",""],["mat-header-row",""],["mat-row",""],[1,"progress-loading"],["color","accent","diameter","200","mode","indeterminate"],["color","primary","diameter","200","mode","determinate",1,"opacity-75",3,"value"],[1,"progress-count","fs-1"]]},template:function(e,i){if(1&e&&(t.TgZ(0,"app-operation-toolbar",0)(1,"mat-form-field",1)(2,"mat-select",2),t.YNc(3,Ti,2,2,"mat-option",3),t.qZA()(),t.TgZ(4,"mat-form-field",1),t._UZ(5,"input",4),t.qZA(),t.TgZ(6,"mat-form-field",1),t._UZ(7,"input",5),t.qZA(),t.TgZ(8,"mat-form-field",6)(9,"mat-chip-grid",null,7),t.YNc(11,Ai,5,1,"mat-chip-row",8),t.TgZ(12,"input",9),t.NdJ("matChipInputTokenEnd",function(c){return i.addKeyWord(c)}),t.qZA()()(),t.TgZ(13,"div",10)(14,"button",11),t.NdJ("click",function(){return i.search()}),t.TgZ(15,"mat-icon",12),t._uU(16,"search"),t.qZA()()(),t.TgZ(17,"div",10)(18,"button",13),t.NdJ("click",function(){return i.cancel()}),t.TgZ(19,"mat-icon",12),t._uU(20,"close"),t.qZA()()()(),t._UZ(21,"app-breadcrumb"),t.TgZ(22,"div",14)(23,"div",15)(24,"table",16),t.YNc(25,Oi,3,2,"ng-container",17),t.YNc(26,ki,1,0,"tr",18),t.YNc(27,Pi,1,2,"tr",19),t.qZA()(),t.YNc(28,Zi,5,2,"div",20),t.qZA()),2&e){const a=t.MAs(10);t.Q6J("formGroup",i.range),t.xp6(2),t.Q6J("formControl",i.hospitalCtrl),t.xp6(1),t.Q6J("ngForOf",i.hospitals),t.xp6(8),t.Q6J("ngForOf",i.range.value.keyWords),t.xp6(1),t.Q6J("matChipInputFor",a),t.xp6(12),t.Q6J("dataSource",i.dataSource),t.xp6(1),t.Q6J("ngForOf",i.displayedHeaderColumns),t.xp6(1),t.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("ngIf",i.loading)}},dependencies:[u.sg,u.O5,u.RF,u.n9,u.ED,d.Fj,d.wV,d.JJ,d.JL,d.Q7,d.qQ,I.lW,I.RK,T.KE,L.Hw,X.Nt,_t.gD,g.ey,d.oH,d.sg,d.u,Rt,Dt,At,nt,ot.Ou,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,B.L,J.U,ut.VK,ut.OP,ut.p6,V.gM],styles:[".mat-chip-list[_ngcontent-%COMP%]   .mat-standard-chip[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.mat-mdc-form-field-words[_ngcontent-%COMP%]{flex:1 1 auto!important;max-width:unset!important}.progress-loading[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;align-items:center;justify-content:center;position:absolute;top:calc(50% - 100px);left:calc(50% - 100px);z-index:110;width:200px;height:200px}.progress-loading[_ngcontent-%COMP%] > .mat-progress-spinner[_ngcontent-%COMP%], .progress-loading[_ngcontent-%COMP%] > .progress-count[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.progress-loading[_ngcontent-%COMP%]   .progress-count[_ngcontent-%COMP%]{width:200px;height:200px;line-height:200px;text-align:center;font-family:Square,Square,Consolas,Menlo,Monaco,Courier New,monospace}"],changeDetection:0})),n})();const gt=(0,ct.FH)(ct.i4.PATIENT,[ct.i4.ADMIN]),Hi=[{path:"medicare-schedule",component:Ne,canActivate:[gt]},{path:"medicare-event/:date",component:$e,canActivate:[gt],outlet:"secondary"},{path:"medical-records",component:Lt},{path:"medical-records",outlet:"secondary",component:Lt},{path:"reports",component:Ht,resolve:[rt]},{path:"reports",outlet:"secondary",component:Ht,resolve:[rt]},{path:"users",component:Li,canActivate:[gt]}];let $i=(()=>{class n{}return(0,r.Z)(n,"\u0275fac",function(e){return new(e||n)}),(0,r.Z)(n,"\u0275mod",t.oAB({type:n})),(0,r.Z)(n,"\u0275inj",t.cJS({imports:[y.Bz.forChild(Hi),y.Bz]})),n})();var Fi=l(7957);let Ui=(()=>{class n{}return(0,r.Z)(n,"\u0275fac",function(e){return new(e||n)}),(0,r.Z)(n,"\u0275mod",t.oAB({type:n})),(0,r.Z)(n,"\u0275inj",t.cJS({providers:[rt,Z.k,Fi.s],imports:[fe.S,u.ez,$i,Ft.JF,ue.t,bt.g,_e,ot.Cq,_.p0,ge.m]})),n})()}}]);