import{$ as G,C as Oe,D as Ie,E as q,F as De,G as ut,J as ze,K as S,L as C,M as w,N as E,O as Ot,P as k,Q as gt,S as ke,T as Pe,U as Re,V as Ne,W as xt,X as Ve,Y as Be,Z as Le,_ as K,a as ue,aa as J,b as ge,c as wt,d as xe,e as Et,f as Z,g as ye,h as be,i as ft,j as Ae,k as b,l as ve,m as Se,n as Ce,o as Te,p as _e,q as _,t as Mt,u as F,v as we,w as Ee,x as Me,y as X}from"./chunk-5GEKUOPM.js";import{a as me,o as fe}from"./chunk-HVLTLSMS.js";import{Va as ce,Wa as he,Xa as de,Ya as pe,aa as ee,bb as _t,ea as ie,fa as j,ga as oe,ua as re,wa as le}from"./chunk-TO5HF64O.js";import{J as mt,M as ne,S as se,U as ae,X as Tt,a as Ct,b as y,f as pt,h as Jt,o as Qt,x as te}from"./chunk-FPVVTWH7.js";import{$ as vt,Aa as V,Bd as Kt,Cb as Ht,E as Vt,F as H,H as Bt,Ha as B,Ic as Wt,Ja as Xt,K as At,Ka as W,Ma as I,Oc as L,Pa as Gt,Q as Lt,Sa as Yt,Tc as ct,Yc as qt,a as P,bd as ht,c as Rt,da as jt,f as Nt,gb as g,ja as st,la as Zt,lb as D,oa as U,oc as lt,p as ot,pb as St,pc as Ut,sa as R,t as nt,ta as at,tb as rt,ua as N,vb as $t,ya as Ft,zd as dt}from"./chunk-V2NSBNR3.js";import{a as kt,b as Pt,g as bt}from"./chunk-NQUV66Z4.js";var qe=0,je="mat-badge-content",yt=new Set,Ke=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=R({type:r,selectors:[["ng-component"]],standalone:!0,features:[Ut],decls:0,vars:0,template:function(i,o){},styles:[".mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color, var(--mat-app-error));color:var(--mat-badge-text-color, var(--mat-app-on-error));font-family:var(--mat-badge-text-font, var(--mat-app-label-small-font));font-weight:var(--mat-badge-text-weight, var(--mat-app-label-small-weight));border-radius:var(--mat-badge-container-shape, var(--mat-app-corner-full))}.cdk-high-contrast-active .mat-badge-content{outline:solid 1px;border-radius:0}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color);color:var(--mat-badge-disabled-state-text-color, var(--mat-app-on-error))}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size, unset);height:var(--mat-badge-legacy-small-size-container-size, unset);min-width:var(--mat-badge-small-size-container-size, unset);min-height:var(--mat-badge-small-size-container-size, unset);line-height:var(--mat-badge-legacy-small-size-container-size, var(--mat-badge-small-size-container-size));padding:var(--mat-badge-small-size-container-padding);font-size:var(--mat-badge-small-size-text-size);margin:var(--mat-badge-small-size-container-offset)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size, unset);height:var(--mat-badge-legacy-container-size, unset);min-width:var(--mat-badge-container-size, unset);min-height:var(--mat-badge-container-size, unset);line-height:var(--mat-badge-legacy-container-size, var(--mat-badge-container-size));padding:var(--mat-badge-container-padding);font-size:var(--mat-badge-text-size, var(--mat-app-label-small-size));margin:var(--mat-badge-container-offset)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size, unset);height:var(--mat-badge-legacy-large-size-container-size, unset);min-width:var(--mat-badge-large-size-container-size, unset);min-height:var(--mat-badge-large-size-container-size, unset);line-height:var(--mat-badge-legacy-large-size-container-size, var(--mat-badge-large-size-container-size));padding:var(--mat-badge-large-size-container-padding);font-size:var(--mat-badge-large-size-text-size, var(--mat-app-label-small-size));margin:var(--mat-badge-large-size-container-offset)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset)}"],encapsulation:2,changeDetection:0});let h=r;return h})(),yi=(()=>{let r=class r{get color(){return this._color}set color(t){this._setColor(t),this._color=t}get content(){return this._content}set content(t){this._updateRenderedContent(t)}get description(){return this._description}set description(t){this._updateDescription(t)}constructor(t,i,o,n,a){this._ngZone=t,this._elementRef=i,this._ariaDescriber=o,this._renderer=n,this._animationMode=a,this._color="primary",this.overlap=!0,this.position="above after",this.size="medium",this._id=qe++,this._isInitialized=!1,this._interactivityChecker=U(ne),this._document=U(ht);let s=U(Wt);if(!yt.has(s)){yt.add(s);let d=qt(Ke,{environmentInjector:U(Ft)});s.onDestroy(()=>{yt.delete(s),yt.size===0&&d.destroy()})}}isAbove(){return this.position.indexOf("below")===-1}isAfter(){return this.position.indexOf("before")===-1}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){let t=this._renderer.createElement("span"),i="mat-badge-active";return t.setAttribute("id",`mat-badge-content-${this._id}`),t.setAttribute("aria-hidden","true"),t.classList.add(je),this._animationMode==="NoopAnimations"&&t.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(t),typeof requestAnimationFrame=="function"&&this._animationMode!=="NoopAnimations"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{t.classList.add(i)})}):t.classList.add(i),t}_updateRenderedContent(t){let i=`${t??""}`.trim();this._isInitialized&&i&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=i),this._content=i}_updateDescription(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!t||this._isHostInteractive())&&this._removeInlineDescription(),this._description=t,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,t):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(t){let i=this._elementRef.nativeElement.classList;i.remove(`mat-badge-${this._color}`),t&&i.add(`mat-badge-${t}`)}_clearExistingBadges(){let t=this._elementRef.nativeElement.querySelectorAll(`:scope > .${je}`);for(let i of Array.from(t))i!==this._badgeElement&&i.remove()}};r.\u0275fac=function(i){return new(i||r)(g(W),g(I),g(mt),g(D),g(Yt,8))},r.\u0275dir=N({type:r,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(i,o){i&2&&Ht("mat-badge-overlap",o.overlap)("mat-badge-above",o.isAbove())("mat-badge-below",!o.isAbove())("mat-badge-before",!o.isAfter())("mat-badge-after",o.isAfter())("mat-badge-small",o.size==="small")("mat-badge-medium",o.size==="medium")("mat-badge-large",o.size==="large")("mat-badge-hidden",o.hidden||!o.content)("mat-badge-disabled",o.disabled)},inputs:{color:[0,"matBadgeColor","color"],overlap:[2,"matBadgeOverlap","overlap",ct],disabled:[2,"matBadgeDisabled","disabled",ct],position:[0,"matBadgePosition","position"],content:[0,"matBadge","content"],description:[0,"matBadgeDescription","description"],size:[0,"matBadgeSize","size"],hidden:[2,"matBadgeHidden","hidden",ct]},standalone:!0,features:[$t]});let h=r;return h})(),bi=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=at({type:r}),r.\u0275inj=st({imports:[ae,Tt,Tt]});let h=r;return h})();var Ze=["#a6aaad","#11a3dc","#5e92a8","#10536d","#012345"],Je=Symbol(),Y={"font-family":"Google Sans","font-size":14},v=new Zt("Default chart options"),Fe={padding:{top:10,right:0,bottom:30,left:80},layout:"grouped",delay:20,maxBandWidth:100,valueFun:h=>h,colors:Ze,palette:Pe(Re),xAxis:{type:"string",clipped:!0,font:Y,minZoom:1,maxZoom:10,padding:10,position:"bottom"},yAxis:{clipped:!1,font:Y,minZoom:1,maxZoom:1,padding:10,position:"left"}},Qe={gridSpacing:4,gridSize:32,padding:{top:40,right:0,bottom:0,left:50},valueFun:h=>h,disabled:{fillStyle:"#aaa"},palette:ut([],[]).interpolate(Me),minZoom:.5,maxZoom:4,tooltip:{disabled:!1},xAxis:{clipped:!0,font:Y,padding:10,position:"top"},yAxis:{clipped:!1,font:Y,padding:10,position:"left"}},ti={padding:{top:0,right:0,bottom:40,left:50},valueFun:h=>h,colors:Ze,palette:q(),lineStyle:{"stroke-width":1},selectedLineStyle:{"stroke-width":2},pointStyle:{r:3,"fill-opacity":0},selectedPointStyle:{r:6,"fill-opacity":1},minZoom:!1,maxZoom:!1,tooltip:{disabled:!1},xAxis:{clipped:!0,font:Y,padding:10,position:"bottom"},yAxis:{clipped:!1,font:Y,padding:10,position:"left"}},Xe={padding:{top:10,right:10,bottom:10,left:10},delay:20,font:{"pointer-events":"none","text-anchor":"middle","font-size":10,"fill-opacity":.9},title:{font:{dy:"0.35em"}},palette:q([],[])};var zt=bt(_t());var M=1e3,O=M*60,z=O*60,T=z*24,ei=T*7,tt=T*30,It=T*365,et=[[S,1,M],[S,2,2*M],[S,3,3*M],[S,4,4*M],[S,5,5*M],[S,10,10*M],[S,15,15*M],[S,30,30*M],[C,1,O],[C,2,2*O],[C,3,3*O],[C,4,4*O],[C,5,5*O],[C,10,10*O],[C,15,15*O],[C,30,30*O],[w,1,z],[w,2,2*z],[w,3,3*z],[w,4,4*z],[w,6,6*z],[w,8,8*z],[w,12,12*z],[E,1,T],[E,2,2*T],[E,3,3*T],[E,4,4*T],[E,5,5*T],[E,6,6*T],[E,10,10*T],[Ot,1,ei],[k,1,tt],[k,2,2*tt],[k,3,3*tt],[k,4,4*tt],[k,6,6*tt],[gt,1,It]],Ge=h=>{let r;switch(h){case"second":r=S;break;case"minute":r=C;break;case"hour":r=w;break;case"day":r=E;break;case"week":r=Ot;break;case"month":r=k;break;case"year":r=gt;break;default:r=ze}return r},Ye=(h,r,e,t)=>{let i=Math.abs(r-h)/e,o=ue(([,,s])=>s).right(et,i);if(o===et.length)return gt.every(Et(h/It,r/It,e));if(o===0)return Ge(t).every(Math.max(Et(h,r,e),1));let[n,a]=et[i/et[o-1][2]<et[o][2]/i?o-1:o];return n.every(a)},Dt=(h,r,e)=>{let t=Ge(e);return Math.max(1,t.count(h,r))};var ii=0,it=(h,r,e)=>{let t=h.invertX(r[0][0])-e[0][0],i=h.invertX(r[1][0])-e[1][0],o=h.invertY(r[0][1])-e[0][1],n=h.invertY(r[1][1])-e[1][1];return h.translate(i>t?t:Math.min(0,t)||Math.max(0,i),n>o?o:Math.min(0,o)||Math.max(0,n))},$=(()=>{class h{renderer;changeDetectorRef;overlay;injector;data;selection;set options(e){this.chartOptions=(0,zt.merge)({},this.injector.get(v),e)}get options(){return this.chartOptions}tooltip;set xTransform(e){let t=this.xZoom;e&&(e=new K(Math.min(t.scaleExtent()[1],Math.max(t.scaleExtent()[0],e.k)),e.x,e.y),e=it(e,t.extent()(),t.translateExtent())),this._xTransform=e}get xTransform(){return this._xTransform}set yTransform(e){let t=this.yZoom;e&&(e=new K(Math.min(t.scaleExtent()[1],Math.max(t.scaleExtent()[0],e.k)),e.x,e.y),e=it(e,t.extent()(),t.translateExtent())),this._yTransform=e}get yTransform(){return this._yTransform}chartOptions;dimension=new DOMRect(0,0,0,0);palette;xAxisScale;xAxis;yAxisScale;yAxis;content;zoom;xZoom;yZoom;resizeObservable;subscription=new P;tooltipPositionStrategy;_container;_isDev=!1;CONTENT_CLASS_NAME="drawing";X_AXIS_CLASS_NAME="x-axis";Y_AXIS_CLASS_NAME="y-axis";renderingObs;_xTransform;_yTransform;id_count;constructor(e,t,i,o,n){this.renderer=t,this.changeDetectorRef=i,this.overlay=o,this.injector=n;let a=this.createSVGElement("svg"),s=this.createSVGElement("g"),d=this.createSVGElement("g"),p=this.createSVGElement("g"),m=this.createSVGElement("rect");t.addClass(s,this.X_AXIS_CLASS_NAME),t.addClass(d,this.Y_AXIS_CLASS_NAME),t.addClass(p,this.CONTENT_CLASS_NAME),t.addClass(m,"canvas-area"),t.appendChild(a,this.createSVGElement("defs")),t.appendChild(p,m),t.appendChild(a,s),t.appendChild(a,d),t.appendChild(a,p),t.appendChild(e,a),this.id_count=++ii,this.chartOptions=(0,zt.merge)({},n.get(v)),this._container=e,this.content=_(a),this.resizeObservable=new Rt(x=>{let f=new ResizeObserver(A=>{let c=A[0].contentRect;x.next(new DOMRect(Math.floor(c.left),Math.floor(c.top),Math.floor(c.width),Math.floor(c.height)))});return f.observe(e),function(){f.disconnect()}}),this.renderingObs=new Nt,this.zoom=J().constrain(it),this.xZoom=J().constrain(it),this.yZoom=J().constrain(it),this.tooltipPositionStrategy=this.overlay.position().flexibleConnectedTo(a).withPositions([this.createTooltipPosition(0,0)])}ngOnChanges(e){if(e.options){let t=e.options?.previousValue,i=e.options?.currentValue,o=this.options;this.zoom.scaleExtent([this.getScaleBoundary(o.minZoom),this.getScaleBoundary(o.maxZoom)]),this.xZoom.scaleExtent([this.getScaleBoundary(typeof o.xAxis?.minZoom<"u"?o.xAxis.minZoom:o.minZoom),this.getScaleBoundary(typeof o.xAxis?.maxZoom<"u"?o.xAxis.maxZoom:o.maxZoom)]),this.yZoom.scaleExtent([this.getScaleBoundary(typeof o.yAxis?.minZoom<"u"?o.yAxis.minZoom:o.minZoom),this.getScaleBoundary(typeof o.yAxis?.maxZoom<"u"?o.yAxis.maxZoom:o.maxZoom)]),i?.xAxis?.position!==t?.xAxis?.position||i?.xAxis?.type!==t?.xAxis?.type?this.createAxisScale("x",o.xAxis):typeof i?.xAxis?.format<"u"&&this.xAxis.tickFormat(i.xAxis.format),i?.yAxis?.position!==t?.yAxis?.position?this.createAxisScale("y",o.yAxis):typeof i?.yAxis?.format<"u"&&this.yAxis.tickFormat(i.yAxis.format),this.tooltip.disabled=Ct(o.tooltip?.disabled)}(e.data||e.options)&&this.tooltip?.hide()}ngOnInit(){this.subscription.add(this.resizeObservable.pipe(H(e=>{let t=this.dimension;return e.width!==t.width||e.height!==t.height}),nt(e=>(this.dimension=e,e)),At(100)).subscribe(()=>{this.resize(),this.identifyZoom(),this.prepareToRender()})),this.renderingObs.pipe(At(5)).subscribe(()=>{this.render()}),this.content.on("contextmenu",e=>{e.preventDefault()})}ngAfterViewInit(){}ngOnDestroy(){this.renderingObs.complete(),this.subscription.unsubscribe(),this.tooltip?.hide()}zoomIn(){this.content.call(this.zoom.scaleBy,2)}zoomOut(){this.content.call(this.zoom.scaleBy,.5)}getValue(...e){let t=this.invertViewData.call(this,...e);return this.options.valueFun(t,...e)}getXValue(e){let t=this.options.xAxis?.valueFun;return y(typeof t=="function"?t(e):e)}getYValue(e){let t=this.options.yAxis?.valueFun;return y(typeof t=="function"?t(e):e)}getPalette(){return this.palette}getCanvasArea(){let e=this.dimension,t=this.options.padding;return Pt(kt({},t),{width:Math.max(0,e.width-t.left-t.right),height:Math.max(0,e.height-t.top-t.bottom)})}getContainer(){return this._container}resize(){let e=this.dimension,t=e.width,i=e.height;this.content.attr("viewBox",[0,0,t,i]).attr("width",t).attr("height",i),this.setViewportExtent()}setPalette(){let e=this.options,t=this.injector.get(v),i=e.palette;if(i&&i.unknown(t.palette.unknown()),i=this.palette=i||t.palette.copy(),e.domain!=="static"||!e.palette){let n=(this.data||[]).length,a=e.colors;(!a||!a.length)&&(a=X(xt,n+2),a.shift(),a.pop()),i.domain(ft(0,n+1)).range(a)}}setViewportExtent(){let e=this.options,t=this.getCanvasArea(),i=this.content,o=[{className:this.X_AXIS_CLASS_NAME,viewBox:this.getAxisViewBox(e.xAxis,t)},{className:this.Y_AXIS_CLASS_NAME,viewBox:this.getAxisViewBox(e.yAxis,t)},{className:this.CONTENT_CLASS_NAME,viewBox:[t.left,t.top,t.width,t.height]}];[{axis:this.xAxis,scale:this.xAxisScale,zoom:this.xZoom,options:e.xAxis},{axis:this.yAxis,scale:this.yAxisScale,zoom:this.yZoom,options:e.yAxis}].forEach(n=>{let{axis:a,scale:s,zoom:d,options:p}=n;if(typeof p?.minZoom=="string"||typeof p?.maxZoom=="string"){let m=d.scaleExtent(),x=this.calcAppropriateNumberOfTicks(a,s,p,t);if(typeof p?.minZoom=="string"){let f=Dt(s.domain()[0],s.domain().slice(-1)[0],p.minZoom);m[0]=f/x}if(typeof p?.maxZoom=="string"){let f=Dt(s.domain()[0],s.domain().slice(-1)[0],p.maxZoom);m[1]=f/x}d.scaleExtent(m)}}),i.selectAll("defs").data([null]).join(n=>n.append(()=>this.createSVGElement("defs"))).selectAll("clipPath").data(o).join(n=>n.append(()=>this.createSVGElement("clipPath"))).attr("clipPathUnits","userSpaceOnUse").attr("id",(n,a,s)=>{let d=_(s[a]),p;switch(n.className){case this.X_AXIS_CLASS_NAME:p=this.xZoom.translateExtent([[n.viewBox[0],n.viewBox[1]],[n.viewBox[0]+n.viewBox[2],n.viewBox[1]]]);break;case this.Y_AXIS_CLASS_NAME:p=this.yZoom.translateExtent([[n.viewBox[0],n.viewBox[1]],[n.viewBox[0],n.viewBox[1]+n.viewBox[3]]]);break;default:p=this.zoom.translateExtent([[n.viewBox[0],n.viewBox[1]],[n.viewBox[0]+n.viewBox[2],n.viewBox[1]+n.viewBox[3]]])}return p.extent([[n.viewBox[0],n.viewBox[1]],[n.viewBox[0]+n.viewBox[2],n.viewBox[1]+n.viewBox[3]]]),d.selectAll("rect").data([null]).join(m=>m.append(()=>this.createSVGElement("rect"))).attr("x",n.viewBox[0]).attr("y",n.viewBox[1]).attr("width",n.viewBox[2]).attr("height",n.viewBox[3]),this.getClipID(n.className)}),i.select(`.${this.CONTENT_CLASS_NAME}`).attr("clip-path",`url(#${this.getClipID(this.CONTENT_CLASS_NAME)})`).select("rect.canvas-area").attr("fill","transparent").attr("x",t.left).attr("y",t.top).attr("width",t.width).attr("height",t.height)}prepareToRender(){this.renderingObs.next()}createAxisScale(e,t){let i,o;switch(t?.type){case"date":i=ke();break;case"string":i=De();break;default:i=ut()}switch(t?.position){case"top":if(e==="y")throw new Error("yAxis cannot be placed on horizontal.");o=Se(i);break;case"left":if(e==="x")throw new Error("xAxis cannot be placed on vertical.");o=_e(i);break;case"right":if(e==="x")throw new Error("xAxis cannot be placed on vertical.");o=Ce(i);break;default:if(e==="y")throw new Error("yAxis cannot be placed on horizontal.");o=Te(i)}return o.tickSize(5).tickPadding(10),typeof t?.format<"u"&&o.tickFormat(t.format),e==="x"?(this.xAxisScale=i,this.xAxis=o):(this.yAxisScale=i,this.yAxis=o),i}createAxis(e,t,i,o){let n=e.scale(),a=this.getCanvasArea(),s=this.getAxisViewBox(t,a),d=this.content,p=this.calcAppropriateNumberOfTicks(e,n,t,a),m;if(typeof n.invert=="function")t.type==="date"?e.ticks(Ye(n.invert(0).valueOf(),n.invert(a.width).valueOf(),p-2,typeof t.minZoom=="string"?t.minZoom:void 0)):e.ticks(p);else{let f=Math.max(1,y(this.data?.length));e.tickValues(Ae(n.domain(),(A,c)=>c%Math.max(1,Math.floor(f/p/y(o.k)))===0))}switch(t?.position){case"left":m=[a.left,0];break;case"right":m=[a.left+a.width,0];break;case"top":m=[0,a.top];break;default:m=[0,a.top+a.height]}let x=d.select(`.${i}`).attr("clip-path",Ct(t?.clipped)?`url(#${this.getClipID(i)})`:"").on("wheel",f=>{f.preventDefault()});x.selectAll("rect").data(f=>[f]).join(f=>f.append(()=>this.createSVGElement("rect"))).attr("x",s[0]).attr("y",s[1]).attr("width",s[2]).attr("height",s[3]).attr("fill","transparent"),x.selectAll("g").data(f=>[f]).join(f=>f.append(()=>this.createSVGElement("g"))).attr("transform",`translate(${m})`).style("user-select","none").call(e).call(f=>{this.setStyle(f,t.font),this.setStyle(f.selectAll(".domain"),t.baseline?.style),this.setStyle(f.selectAll(".tick line"),t.ticks?.style)})}getAxisViewBox(e,t){let i;switch(e?.position){case"top":i=[t.left,0,t.width,t.top];break;case"left":i=[0,t.top,t.left,t.height];break;case"right":i=[t.left+t.width,t.top,t.right,t.height];break;default:i=[t.left,t.top+t.height,t.width,t.bottom]}return i}calcAppropriateNumberOfTicks(e,t,i,o){let n=y(i?.font["font-size"])||14,a=y(i?.padding),s=e.tickFormat(),d,p,m,x;switch(s=s===null?t.tickFormat?t.tickFormat.apply(t,e.tickArguments()):f=>f:s,i?.position){case"left":case"right":d=o.top+o.height,p=o.height,m=n;break;default:let A=this.renderer.createElement("canvas").getContext("2d"),c=l=>typeof l?.toString=="function"?A.measureText(l.toString()).width:0;A.font=`${n}px "${i.font["font-family"]}"`,d=o.left,p=o.width,m=Z((t.invert?b(xe(d,d+p,p),l=>c(s(t.invert(l),-1))):b(t.domain(),l=>c(s(l,-1)))).concat([a]))}return m=Math.ceil(m)+a,x=Math.max(1,Math.floor(p/m)),x}getTransformXAxisScale(){let e=this.xAxisScale,t=this.xTransform;try{return t.rescaleX(e)}catch{return(typeof e.rangeRound=="function"?e.copy().rangeRound:e.copy().range)(e.range().map(o=>t.applyX(o)))}}getTransformYAxisScale(){let e=this.yAxisScale,t=this.yTransform;try{return t.rescaleY(e)}catch{return(typeof e.rangeRound=="function"?e.copy().rangeRound:e.copy().range)(e.range().map(o=>t.applyY(o)))}}getScaleBoundary(e,t){let i;switch(typeof e){case"boolean":i=e?1/0:1;break;case"number":i=e;break;default:i=1}return i}createSVGElement(e){return this.renderer.createElement(e,"svg")}setStyle(e,t){let i=typeof t=="function"?t(e.data()):t||{};for(let o in i)e.attr(o,i[o])}createTooltip(){let e=this.injector,t=new de(this.overlay,new I(this.getContainer()),e.get(te),e.get(St),e.get(W),e.get(Jt),e.get(mt),e.get(se),e.get(ce),e.get(Qt),e.get(he),e.get(ht)),i=this.options?.tooltip?.component;return i&&(t._portal=new ee(i,e.get(St))),t.message="_",t.show(),t.hide(),t._overlayRef.updatePositionStrategy(this.tooltipPositionStrategy),t}updateTooltip(e,t){let i=this.tooltip,o=this.injector.get(W),n=e.offsetX,a=e.offsetY;o.run(()=>{this.tooltipPositionStrategy.withPositions([this.createTooltipPosition(n,a)]),i.message=`${t}`,i.show()})}enableMultipleSelection(e){return navigator.platform?.toLowerCase().indexOf("mac")>-1?e.metaKey:e.ctrlKey}getClipID(e){return`boundsClip-${this.injector.get(Gt)}-${this.id_count}-${e}`}createTooltipPosition(e,t){return{offsetX:e,offsetY:t-15,originX:"start",originY:"top",overlayX:"center",overlayY:"bottom"}}static \u0275fac=function(t){return new(t||h)(g(HTMLElement),g(D),g(L),g(j),g(B))};static \u0275dir=N({type:h,inputs:{data:"data",selection:"selection",options:"options"},features:[V]})}return h})();var io=(()=>{class h extends ${renderer;changeDetectorRef;overlay;injector;data;constructor(e,t,i,o,n){super(pt(e),t,i,o,n),this.renderer=t,this.changeDetectorRef=i,this.overlay=o,this.injector=n,this.createAxisScale("x",this.options.xAxis),this.createAxisScale("y",this.options.yAxis),this.tooltip=this.createTooltip()}ngOnChanges(e){if(super.ngOnChanges(e),["data","options"].some(i=>e[i]&&(e[i].firstChange||e[i].currentValue!==e[i].previousValue))){let i=this.options,o=i.layout==="stacked",n=this.data||[];[{scale:this.xAxisScale,options:i.xAxis,domain:b(n,s=>s[0])},{scale:this.yAxisScale,options:i.yAxis,domain:be(b(n,s=>o?b(s.slice(1),(d,p)=>wt(s.slice(1,p+2))):b(s.slice(1),d=>Math.abs(y(d))))).concat([0])}].forEach(s=>{if(s.options.type==="string")s.scale.domain(s.domain);else{let d=typeof s.options?.min<"u",p=typeof s.options?.max<"u",m=ge(s.domain);d&&(m[0]=ye([m[0],s.options.min])),p&&(m[1]=Z([m[1],s.options.max])),s.scale.domain(m),typeof s.scale.nice=="function"&&s.scale.nice()}}),this.setPalette()}this.xTransform&&this.yTransform&&this.prepareToRender()}ngOnInit(){super.ngOnInit(),this.xZoom.on("zoom",e=>{let t=this.xTransform;this.xTransform=e.transform,(t.k!==e.transform.k||t.x!==e.transform.x)&&this.prepareToRender()}),this.yZoom.on("zoom",e=>{let t=this.yTransform;this.yTransform=e.transform,(t.k!==e.transform.k||t.y!==e.transform.y)&&this.prepareToRender()})}render(){this.renderAxes(),this.renderContent()}renderContent(){let e=this.data||[],t=this.getNumOfSeries(e),i=this.options,o=i.layout==="stacked",n=i.delay,a=this.getPalette(),s=this.getTransformXAxisScale(),d=this.getTransformYAxisScale(),p=this.content.select(`.${this.CONTENT_CLASS_NAME}`),m=30;typeof s.clamp=="function"&&s.clamp(!1),typeof d.clamp=="function"&&d.clamp(!1),typeof s.bandwidth=="function"?m=s.bandwidth():m=Math.abs(Math.floor(s(e[0][0])-s(e[1][0]))),p.selectAll("g.bars").data([null]).join(c=>c.append(()=>this.createSVGElement("g"))).attr("class","bars").selectAll("g.bar").data(e).join(c=>c.append(()=>this.createSVGElement("g"))).attr("class","bar").call(c=>{c.selectAll("rect").data(l=>b(l.slice(1),()=>l)).join(l=>l.append(()=>this.createSVGElement("rect"))).attr("fill",(l,u)=>a(u)).attr("x",(l,u)=>s(l[0])+(o?0:m/t*u)).attr("width",o?m:m/t).attr("y",(l,u)=>d(o?u<1?l[u+1]:l[u]:Math.abs(l[u+1]))).attr("height",(l,u)=>d(0)-d(Math.abs(l[u+1])))}).on("mousemove",c=>{this.tooltip&&this.showTooltip(c)}).on("mouseenter",c=>{this.tooltip&&this.showTooltip(c),c.stopPropagation()}).on("mouseleave",c=>{this.tooltip&&this.tooltip.hide(),c.stopPropagation()});let x=new Array(Math.min(1,t)),f=X(xt,t+2);f.unshift(),f.pop();let A=q(ft(0,t,1),f);x.length&&(x[0]=t-1),p.selectAll("g.lines").data(x).join(c=>c.append(()=>this.createSVGElement("g"))).attr("class","lines").call(c=>{c.selectAll("path").data(l=>[b(e,u=>[u[0],o?wt(u.slice(1)):u[l]])]).join(l=>l.append(()=>this.createSVGElement("path"))).attr("fill","none").attr("stroke",(l,u)=>A(u)).attr("stroke-width",1).attr("stroke-linecap","round").attr("stroke-linejoin","round").attr("d",Be().curve(Le).x(l=>s(l[0])+m/2).y(l=>d(l[1]))).call(l=>{this.setStyle(l,i.lineStyle)})})}renderAxes(){let e=this.options,t=this.content,i=this.X_AXIS_CLASS_NAME,o=this.Y_AXIS_CLASS_NAME,n=this.getCanvasArea(),a=this.xAxisScale;if(typeof a.bandwidth=="function"){let s=a.domain().length,d=y(e.maxBandWidth),p=this.xTransform;a.paddingOuter(Math.max(.01,1-s/(n.width/d))),a.paddingInner(Math.max(.38,a.paddingOuter())),this.xZoom.scaleExtent([1,Math.max(1,d/a.step())]),this.xTransform=new K(p.k,p.x,p.y)}this.createAxis(this.xAxis.scale(this.getTransformXAxisScale()),e.xAxis,i,this.xTransform),this.createAxis(this.yAxis.scale(this.getTransformYAxisScale()),e.yAxis,o,this.yTransform),t.select(`.${i}`).call(this.xZoom).call(this.xZoom.transform,this.xTransform),t.select(`.${o}`).call(s=>{s.selectAll(".tick line").clone().attr("x2",n.width).attr("stroke","#000000").style("stroke-dasharray",d=>d===0?null:"3 3").attr("stroke-opacity",d=>d===0?.5:.2)}).call(this.yZoom)}viewData(e){return this.getTransformXAxisScale()(this.getXValue(e))}invertViewData(e,t=this.data){return t[e]}setViewportExtent(){super.setViewportExtent();let e=this.options,t=this.getCanvasArea(),i=[{scale:this.xAxisScale,options:e.xAxis},{scale:this.yAxisScale,options:e.yAxis}].forEach(o=>{switch(o.options?.position){case"left":case"right":(typeof o.scale.rangeRound=="function"?o.scale.rangeRound:o.scale.range)([t.top+t.height,t.top]);break;default:(typeof o.scale.rangeRound=="function"?o.scale.rangeRound:o.scale.range)([t.left,t.left+t.width])}})}identifyZoom(){this.xTransform=this.yTransform=G}showTooltip(e){let t=_(e.target),i=t.size()?t.data()[0]:null,o=this.options.tooltip?.content,n=i?typeof o=="function"?o(i):ve(i,(a,s)=>a+`${s} 
`,""):"";this.updateTooltip(e,n)}getNumOfSeries(e){return e&&e[0]?e[0].length-1:0}static \u0275fac=function(t){return new(t||h)(g(I),g(D),g(L),g(j),g(B))};static \u0275cmp=R({type:h,selectors:[["app-bar-chart"]],hostAttrs:[1,"d-block","chart","chart-bar"],inputs:{data:"data"},features:[lt([{provide:v,useValue:Fe}]),rt,V],decls:0,vars:0,template:function(t,i){},styles:["[_nghost-%COMP%]{display:block;overflow:hidden}","svg[_ngcontent-%COMP%]{display:block}"]})}return h})();var lo=(()=>{class h extends ${renderer;changeDetectorRef;overlay;injector;percentPipe;root;arc;totalDepth;constructor(e,t,i,o,n,a){super(pt(e),t,i,o,n),this.renderer=t,this.changeDetectorRef=i,this.overlay=o,this.injector=n,this.percentPipe=a,this.arc=Ve().startAngle(s=>s.x0).endAngle(s=>s.x1).padAngle(s=>Math.min((s.x1-s.x0)/2,.005)).innerRadius(s=>s.y0).outerRadius(s=>s.y1-1),this.totalDepth=0,this.tooltip=this.createTooltip()}ngOnChanges(e){super.ngOnChanges(e),["data","options"].some(i=>e[i]&&(e[i].firstChange||e[i].currentValue!==e[i].previousValue))&&this.setPalette(),this.prepareToRender()}ngOnInit(){super.ngOnInit()}render(){this.renderContent()}renderContent(){let e=(this.data?this.data[0]:null)||{id:"",name:"",children:[]},t=this.options,i=y(t?.font["font-size"])||14,o=t.delay,n=this.getPalette(),a=this.getCanvasArea(),s=Math.min(a.width,a.height)/2,d=this.content.select(`.${this.CONTENT_CLASS_NAME}`),p=this.arc.padRadius(s/2),m=this.root=Ie().size([2*Math.PI,s])(Oe(e).sum(c=>c.children&&c.children.length?0:c.value).sort((c,l)=>l.value-c.value)),x=this.totalDepth=Z(m.descendants(),c=>c.depth),f=1/this.totalDepth,A=we(Math.min(Math.max(f,.4),.9),Math.max(Math.min(1-f,.9),.9));n.domain(b(e.children,c=>c.id)),d.selectAll("text.main").data([e]).join(c=>c.append(()=>this.createSVGElement("text"))).attr("class","main").attr("transform",`translate(${[a.left+a.width/2,a.top+a.height/2]})`).attr("text-anchor","middle").call(c=>{this.setTitle(c,c.data()[0]),this.setStyle(c,t.title?.font)}),d.selectAll("g.part").data(m.descendants().filter(c=>c.depth&&c.x1-c.x0>.001)).join(c=>c.append(()=>this.createSVGElement("g"))).attr("class","part").attr("transform",`translate(${[a.left+a.width/2,a.top+a.height/2]})`).call(c=>{c.selectAll("path").data(l=>l).join(l=>l.append(()=>this.createSVGElement("path"))).attr("fill",(l,u)=>this.getColorByData(l,u).toString()).attr("fill-opacity",l=>A((l.depth+1)/x)).attr("d",p),c.selectAll("text").data(l=>l).join(l=>l.append(()=>this.createSVGElement("text"))).attr("transform",l=>{let u=(l.x0+l.x1)/2*180/Math.PI,We=(l.y0+l.y1)/2;return`rotate(${u-90}) translate(${We}, 0) rotate(${u<180?0:180})`}).text(l=>l.depth&&(l.y0+l.y1)/2*(l.x1-l.x0)>i?l.data.name:"").call(l=>{l.attr("dy","0.35em"),this.setStyle(l,t.font)})}).on("mousemove",c=>{this.tooltip&&this.showTooltip(c)}).on("mouseenter",c=>{let l=_(c.target),u=l.data()[0];l.select("path").attr("fill-opacity",1),this.setTitle(d.select("text.main"),u.data),this.tooltip&&this.showTooltip(c),c.stopPropagation()}).on("mouseleave",c=>{let l=_(c.target),u=l.data()[0];l.select("path").attr("fill-opacity",A((u.depth+1)/x)),this.setTitle(d.select("text.main"),this.data?this.data[0]:null),this.tooltip&&this.tooltip.hide(),c.stopPropagation()})}renderAxes(){throw new Error("Method not implemented.")}viewData(e){throw new Error("Method not implemented.")}invertViewData(e){return e}setPalette(){let e=this.options,t=this.injector.get(v),o=((this.data?this.data[0]:null)||{id:"",name:"",children:[]}).children.length,n=e.palette,a=e.colors;n&&n.unknown(t.palette.unknown()),n=this.palette=n||t.palette.copy(),(!a||!a.length)&&(a=X(Ne,o+1).reverse(),a.pop()),n.range(a)}identifyZoom(){this.xTransform=this.yTransform=G}showTooltip(e){let t=this.options.tooltip?.content,i=_(e.target),o=i.size()?i.data()[0]:null,n=o?typeof t=="function"?t(o.data):`${o.ancestors().map(a=>a.data.name).reverse().join("/")}
${this.percentPipe.transform(o.value/this.root.value,"0.0-2")}`:"";this.updateTooltip(e,n)}setTitle(e,t){let i="",o=0;t&&(t.name?i=t.name:t.data&&(i=t.data.name),typeof t.value=="number"&&(o=t.value)),e.selectAll(".percentage").data([i,this.getValue(o).toString()]).join(n=>n.append(()=>this.createSVGElement("tspan"))).attr("class","percentage").attr("x",0).attr("y",0).attr("dy",(n,a)=>`${-.1+a*1.2}em`).text(n=>n)}getColorByData(e,t){let i=e.depth,o=1,n=t%o;for(e.parent&&(o=e.parent.data.children.length,n=t%o,e.parent.data.children.some((m,x)=>e.data.name===m.name?(n=x,!0):!1));e.depth>1;)e=e.parent;let a=F(this.getPalette()(e.data.id)),s=F(a).h,d=1/this.totalDepth,p=a;if(i>1){let m=F(s,Math.max(1-d,.3),Math.max(1-d,.8)),x=F(s,1,Math.min(d,.2));p=F(Ee(m,x)(n/o))}return p}static \u0275fac=function(t){return new(t||h)(g(I),g(D),g(L),g(j),g(B),g(dt))};static \u0275cmp=R({type:h,selectors:[["app-sunburst-chart"]],hostAttrs:[1,"d-block","chart","chart-sunburst"],features:[lt([{provide:v,useValue:Xe}]),rt,V],decls:0,vars:0,template:function(t,i){},styles:["[_nghost-%COMP%]{display:block;overflow:hidden}","svg[_ngcontent-%COMP%]{display:block}"]})}return h})();var He=bt(_t());var xo=Mt("#009CA6"),yo=Mt(26,115,232);var ni=bt(_t());var Bo=(()=>{class h{static \u0275fac=function(t){return new(t||h)};static \u0275mod=at({type:h});static \u0275inj=st({providers:[dt],imports:[Kt,re,le,pe,oe,ie]})}return h})();function Zo(h){return class extends h{subscription=new P;constructor(...r){super(...r)}ngOnDestroy(){this.subscription.unsubscribe()}}}var Yo=(()=>{class h{dataSource;displayedHeaderColumns;displayedColumns;selectedRow;requestSubs;subscription=new P;ngOnInit(){this.displayedColumns=this.displayedHeaderColumns.map(e=>e.key)}ngOnDestroy(){this.subscription.unsubscribe()}setSelectedRow(e){this.selectedRow&&(this.selectedRow.selected=!1),e.selected=!0,this.selectedRow=e}static \u0275fac=function(t){return new(t||h)};static \u0275dir=N({type:h})}return h})();var Ue=class extends fe{remoteSourceFn;dataConverter;remotePagetion;readied;loading=!1;pageSizeOptions=[20,50,100];x;responseError=new Xt;pageSize;countId=0;dataSubscription;pageTokenMap=new Map;constructor(r,e,t=!0,i=!0){super(),this.remoteSourceFn=r,this.dataConverter=e,this.remotePagetion=t,this.readied=i}reset(){let r=this.paginator;this.pageTokenMap.clear(),r&&(r.pageIndex=0),this.reload()}reload(){this.load().subscribe()}_updateChangeSubscription(){super._updateChangeSubscription();let r=this.paginator,e;r&&(r.pageSizeOptions=this.pageSizeOptions,this.pageSize=r.pageSize),this.remotePagetion&&r?e=Vt(r.page.pipe(H(i=>this.pageSize!==i.pageSize?(this.pageSize=i.pageSize,this.reset(),!1):!0)),r.initialized):e=ot(null);let t=e.pipe(H(()=>this.readied&&!!this.pageTokenMap),vt(()=>this.load()));this.dataSubscription?.unsubscribe(),this.dataSubscription=t.subscribe()}_pageData(r){return this.remotePagetion?r:super._pageData(r)}_updatePaginator(r){!this.remotePagetion&&super._updatePaginator(r)}load(){let r=this.paginator,e=ot(null);return r?e.pipe(jt(()=>{this.loading=!0,this.countId++,r.disabled=!0}),vt(()=>{let t=this.countId,i=new me;return i.pageSize=r.pageSize,i.pageIndex=r.pageIndex,this.remoteSourceFn(i,this.pageTokenMap.get(r.pageIndex)||"").pipe(Bt(o=>(this.responseError.emit(o),ot({}))),Lt(()=>{this.loading=t===this.countId?!1:this.loading}))}),nt(t=>{let i=this.dataConverter(t);return this.data=i,r.disabled=!1,i})):e}};export{yi as a,bi as b,io as c,lo as d,Bo as e,Zo as f,Yo as g,Ue as h};
/**i18n:4ec78395217facedd742edef8dfa814b1ea6af3fbb33fa1f9a497a05293d0698*/
